import{z as I,aG as g,ad as q,aH as x,aI as B,i as G,u as K,aJ as M,aK as S,aL as P,w as j,al as _}from"./koPOmyr6.mjs";const H=()=>performance.now(),u={tick:r=>requestAnimationFrame(r),now:()=>H(),tasks:new Set};function z(){const r=u.now();u.tasks.forEach(a=>{a.c(r)||(u.tasks.delete(a),a.f())}),u.tasks.size!==0&&u.tick(z)}function J(r){let a;return u.tasks.size===0&&u.tick(z),{promise:new Promise(t=>{u.tasks.add(a={c:r,f:t})}),abort(){u.tasks.delete(a)}}}function T(r,a){S(()=>{r.dispatchEvent(new CustomEvent(a))})}function U(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const a=r.split("-");return a.length===1?a[0]:a[0]+a.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function R(r){const a={},t=r.split(";");for(const s of t){const[o,d]=s.split(":");if(!o||d===void 0)break;const n=U(o.trim());a[n]=d.trim()}return a}const W=r=>r;function Q(r,a,t,s){var o=(r&M)!==0,d="both",n,E=a.inert,b=a.style.overflow,f,e;function w(){return S(()=>n??(n=t()(a,(s==null?void 0:s())??{},{direction:d})))}var h={is_global:o,in(){a.inert=E,T(a,"introstart"),f=A(a,w(),e,1,()=>{T(a,"introend"),f==null||f.abort(),f=n=void 0,a.style.overflow=b})},out(v){a.inert=!0,T(a,"outrostart"),e=A(a,w(),f,0,()=>{T(a,"outroend"),v==null||v()})},stop:()=>{f==null||f.abort(),e==null||e.abort()}},l=I;if((l.transitions??(l.transitions=[])).push(h),g){var c=o;if(!c){for(var i=l.parent;i&&(i.f&q)!==0;)for(;(i=i.parent)&&(i.f&x)===0;);c=!i||(i.f&B)!==0}c&&G(()=>{K(()=>h.in())})}}function A(r,a,t,s,o){var d=s===1;if(P(a)){var n,E=!1;return j(()=>{if(!E){var v=a({direction:d?"in":"out"});n=A(r,v,t,s,o)}}),{abort:()=>{E=!0,n==null||n.abort()},deactivate:()=>n.deactivate(),reset:()=>n.reset(),t:()=>n.t()}}if(t==null||t.deactivate(),!(a!=null&&a.duration))return o(),{abort:_,deactivate:_,reset:_,t:()=>s};const{delay:b=0,css:f,tick:e,easing:w=W}=a;var h=[];if(d&&t===void 0&&(e&&e(0,1),f)){var l=R(f(0,1));h.push(l,l)}var c=()=>1-s,i=r.animate(h,{duration:b,fill:"forwards"});return i.onfinish=()=>{i.cancel();var v=(t==null?void 0:t.t())??1-s;t==null||t.abort();var m=s-v,k=a.duration*Math.abs(m),C=[];if(k>0){var N=!1;if(f)for(var p=Math.ceil(k/16.666666666666668),y=0;y<=p;y+=1){var L=v+m*w(y/p),O=R(f(L,1-L));C.push(O),N||(N=O.overflow==="hidden")}N&&(r.style.overflow="hidden"),c=()=>{var F=i.currentTime;return v+m*w(F/k)},e&&J(()=>{if(i.playState!=="running")return!1;var F=c();return e(F,1-F),!0})}i=r.animate(C,{duration:k,fill:"forwards"}),i.onfinish=()=>{c=()=>s,e==null||e(s,1-s),o()}},{abort:()=>{i&&(i.cancel(),i.effect=null,i.onfinish=_)},deactivate:()=>{o=_},reset:()=>{s===0&&(e==null||e(1,0))},t:()=>c()}}export{Q as t};
