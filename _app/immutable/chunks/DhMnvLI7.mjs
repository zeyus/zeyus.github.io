import"./DsnmJJEf.mjs";import{aC as j,p as D,aD as F,h as L,a as h,b as v,c as I,f as C,d as T,r as B,t as S,e as K,s as $,i as A,u as R}from"./b_Nk5rqS.mjs";import{p,i as P}from"./CrcNeqAN.mjs";import{s as w,d as z}from"./UzZeMtaS.mjs";import{e as G,i as H}from"./Ci5lkgnV.mjs";import{L as J,a as M}from"./D468PHJX.mjs";const st=n=>({text:n,url:"",occurrences:1}),k=(n,i,r)=>{if(n instanceof KeyboardEvent&&n.key!=="Enter")return;n.preventDefault();const l=n.target.href.split("#")[1],t=document.getElementById(l);if(!t)return;t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"});const s=t.querySelector("button");s&&s.focus(),t.setAttribute("data-return-to",i.toString()),t.classList.add(r()),setTimeout(()=>{t.classList.remove(r())},1e3)};var Q=C('<sup class="footnote-ref-sup"><a> </a></sup>');function at(n,i){D(i,!0);let r=p(i,"item",7),l=p(i,"items",27,()=>F([])),t=p(i,"highlightClass",3,"bg-primary-800/50");l().includes(r())||(r().occurrences=1,l().push(r()));let s=l().indexOf(r()),f=r().occurrences||1;var _=L(),y=h(_);{var a=c=>{var u=Q(),e=T(u);e.__touchend=[k,f,t],e.__keydown=[k,f,t],e.__click=[k,f,t];var o=T(e,!0);B(e),B(u),S(()=>{w(e,"href",`#footnote-${s+1}`),w(e,"data-occurrence",f),z(e,1,`footnote-ref footnote-${s+1}-ref align-top text-xs text-primary-300`),K(o,s+1)}),v(c,u)};P(y,c=>{s>=0&&c(a)})}v(n,_),I()}j(["touchend","keydown","click"]);var U=C('<button type="button" class="h-5 ml-0 my-0 footnote-id object-top align-top text-xs text-primary-300 mr-1" aria-label="Scroll back to reference"></button> ',1),W=C('<div class="w-100 mt-12 mb-4"><div class="w-64 border-t border-slate-400 -ml-4"></div></div> <!>',1);function nt(n,i){D(i,!0);let r=p(i,"items",27,()=>F([])),l=p(i,"highlightClass",3,"bg-primary-800/50");const t=["transition","ease-in-out","duration-300","delay-150"];function s(a){if(a instanceof KeyboardEvent&&a.key!=="Enter")return;a.preventDefault();const c=a.target?.parentElement?.getAttribute("data-return-to"),u=a.target.getAttribute("data-target");if(!u)return;const e=document.getElementsByClassName(u);if(!e)return;let o=null;for(let m=0;m<e.length;m++)if(e[m].getAttribute("data-occurrence")===c){o=e[m];break}o||(o=e[0]),o.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),o.focus(),o.classList.add(...t),o.classList.add(l()),setTimeout(()=>{o.classList.remove(l())},1e3),setTimeout(()=>{o.classList.remove(...t)},1900);const b=o.closest(".footnote-ref-sup");if(!b)return;const d=b.parentElement;d&&(d.classList.add(...t),d.classList.add(l()),setTimeout(()=>{d.classList.remove(l())},1e3),setTimeout(()=>{d.classList.remove(...t)},1900))}var f=L(),_=h(f);{var y=a=>{var c=W(),u=$(h(c),2);J(u,{class:"w-full flex flex-col",position:"inside",children:(e,o)=>{var b=L(),d=h(b);G(d,17,r,H,(m,V,x)=>{{let q=R(()=>t.join(" "));M(m,{id:`footnote-${x+1}`,get class(){return`mb-2 footnote text-sm list-none basis-full w-full flex justify-start content-start ${A(q)??""}`},children:(N,X)=>{var E=U(),g=h(E);w(g,"data-target",`footnote-${x+1}-ref`),g.__touchend=s,g.__keydown=s,g.__click=s,g.textContent=x+1;var O=$(g);S(()=>K(O,` ${A(V).text??""}`)),v(N,E)},$$slots:{default:!0}})}}),v(e,b)},$$slots:{default:!0}}),v(a,c)};P(_,a=>{r().length>0&&a(y)})}v(n,f),I()}j(["touchend","keydown","click"]);export{nt as B,at as a,st as c};
