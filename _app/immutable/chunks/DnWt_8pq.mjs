import{g as j,d as w,a as v,s as R,h as p,f as T}from"./CW9ZLviT.mjs";import{p as F,ak as S,f as y,a as D,g as c,ag as C,c as I,r as $,t as z,s as A}from"./DEPfPJ3n.mjs";import{p as _,i as K}from"./BF8Cdouy.mjs";import{s as E,b as G}from"./MRg1mhG5.mjs";import{e as H,i as J}from"./DzpxA3v9.mjs";import{h as M}from"./DV7q7YMi.mjs";import{L as O,a as Q}from"./DFYusrFB.mjs";const nt=b=>({text:b,url:"",occurrences:1});var U=T('<sup class="footnote-ref-sup"><a> </a></sup>');function it(b,n){F(n,!0);let i=_(n,"item",7),a=_(n,"items",27,()=>S([])),l=_(n,"highlightClass",3,"bg-primary-800/50"),u=a().findIndex(e=>e.text===i().text);u===-1&&(i().occurrences=1,a().push(i()),u=a().length-1);let f=C(()=>a().findIndex(e=>e.text===i().text)),k=C(()=>i().occurrences||1);const x=e=>{if(e instanceof KeyboardEvent&&e.key!=="Enter")return;e.preventDefault();const o=e.target.href.split("#")[1],t=document.getElementById(o);if(!t)return;t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"});const s=t.querySelector("button");s&&s.focus(),t.setAttribute("data-return-to",c(k).toString()),t.classList.add(l()),setTimeout(()=>{t.classList.remove(l())},1e3)};var r=w(),d=y(r);{var m=e=>{var o=U(),t=I(o),s=I(t,!0);$(t),$(o),z(()=>{E(t,"href",`#footnote-${c(f)+1}`),E(t,"data-occurrence",c(k)),G(t,1,`footnote-ref footnote-${c(f)+1}-ref align-top text-xs text-primary-300`),R(s,c(f)+1)}),p("touchend",t,x),p("keydown",t,x),p("click",t,x),v(e,o)};K(d,e=>{c(f)>=0&&e(m)})}v(b,r),D()}j(["touchend","keydown","click"]);var W=T('<button type="button" class="h-5 ml-0 my-0 footnote-id object-top align-top text-xs text-primary-300 mr-1" aria-label="Scroll back to reference"></button> <!>',1),X=T('<div class="w-100 mt-12 mb-4"><div class="w-64 border-t border-slate-400 -ml-4"></div></div> <!>',1);function lt(b,n){F(n,!0);let i=_(n,"items",27,()=>S([])),a=_(n,"highlightClass",3,"bg-primary-800/50");const l=["transition","ease-in-out","duration-300","delay-150"];function u(r){if(r instanceof KeyboardEvent&&r.key!=="Enter")return;r.preventDefault();const d=r.target?.parentElement?.getAttribute("data-return-to"),m=r.target.getAttribute("data-target");if(!m)return;const e=document.getElementsByClassName(m);if(!e)return;let o=null;for(let g=0;g<e.length;g++)if(e[g].getAttribute("data-occurrence")===d){o=e[g];break}o||(o=e[0]),o.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),o.focus(),o.classList.add(...l),o.classList.add(a()),setTimeout(()=>{o.classList.remove(a())},1e3),setTimeout(()=>{o.classList.remove(...l)},1900);const t=o.closest(".footnote-ref-sup");if(!t)return;const s=t.parentElement;s&&(s.classList.add(...l),s.classList.add(a()),setTimeout(()=>{s.classList.remove(a())},1e3),setTimeout(()=>{s.classList.remove(...l)},1900))}var f=w(),k=y(f);{var x=r=>{var d=X(),m=A(y(d),2);O(m,{class:"w-full flex flex-col",position:"inside",children:(e,o)=>{var t=w(),s=y(t);H(s,17,i,J,(g,P,L)=>{{let V=C(()=>l.join(" "));Q(g,{id:`footnote-${L+1}`,get class(){return`mb-2 footnote text-sm list-none basis-full w-full flex justify-start content-start ${c(V)??""}`},children:(q,Y)=>{var B=W(),h=y(B);E(h,"data-target",`footnote-${L+1}-ref`),h.textContent=L+1;var N=A(h,2);M(N,()=>c(P).text),p("touchend",h,u),p("keydown",h,u),p("click",h,u),v(q,B)},$$slots:{default:!0}})}}),v(e,t)},$$slots:{default:!0}}),v(r,d)};K(k,r=>{i().length>0&&r(x)})}v(b,f),D()}j(["touchend","keydown","click"]);export{lt as B,it as a,nt as c};
