import{Y as j,a2 as P,Z as q,A as E,P as I,N as H,h as g,J as M,an as $,R as z,B as G,b as Z,aj as J,F as W,ao as Q,H as V,G as X,C as k,I as D,al as N,m as ee,ap as re,aq as se,g as v,ah as ne,ar as te,d as L,as as x,at as ie,au as Y,ak as ae,a4 as R,av as ue,aw as fe,q as oe,o as ce,ax as le,ay as de,ag as pe,e as _e,W as he,az as ve,aA as y,aB as B,aC as be,S as C,aD as F,aE as h}from"./DVzzvjCx.mjs";class me{anchor;#r=new Map;#s=new Map;#e=new Map;#n=new Set;#t=!0;constructor(e,n=!0){this.anchor=e,this.#t=n}#i=e=>{if(this.#r.has(e)){var n=this.#r.get(e),s=this.#s.get(n);if(s)j(s),this.#n.delete(n);else{var t=this.#e.get(n);t&&(this.#s.set(n,t.effect),this.#e.delete(n),t.fragment.lastChild.remove(),this.anchor.before(t.fragment),s=t.effect)}for(const[i,u]of this.#r){if(this.#r.delete(i),i===e)break;const a=this.#e.get(u);a&&(P(a.effect),this.#e.delete(u))}for(const[i,u]of this.#s){if(i===n||this.#n.has(i))continue;const a=()=>{if(Array.from(this.#r.values()).includes(i)){var c=document.createDocumentFragment();$(u,c),c.append(E()),this.#e.set(i,{effect:u,fragment:c})}else P(u);this.#n.delete(i),this.#s.delete(i)};this.#t||!s?(this.#n.add(i),q(u,a,!1)):a()}}};#a=e=>{this.#r.delete(e);const n=Array.from(this.#r.values());for(const[s,t]of this.#e)n.includes(s)||(P(t.effect),this.#e.delete(s))};ensure(e,n){var s=H,t=z();if(n&&!this.#s.has(e)&&!this.#e.has(e))if(t){var i=document.createDocumentFragment(),u=E();i.append(u),this.#e.set(e,{effect:I(()=>n(u)),fragment:i})}else this.#s.set(e,I(()=>n(this.anchor)));if(this.#r.set(s,e),t){for(const[a,f]of this.#s)a===e?s.unskip_effect(f):s.skip_effect(f);for(const[a,f]of this.#e)a===e?s.unskip_effect(f.effect):s.skip_effect(f.effect);s.oncommit(this.#i),s.ondiscard(this.#a)}else g&&(this.anchor=M),this.#i(s)}}function Re(r,e,n=!1){var s;g&&(s=M,Z());var t=new me(r),i=n?J:0;function u(a,f){if(g){var c=W(s),l;if(c===Q?l=0:c===V?l=!1:l=parseInt(c.substring(1)),a!==l){var b=X();k(b),t.anchor=b,D(!1),t.ensure(a,f),D(!0);return}}t.ensure(a,f)}G(()=>{var a=!1;e((f,c=0)=>{a=!0,u(c,f)}),a||u(!1,null)},i)}let S=!1,A=Symbol();function Oe(r,e,n){const s=n[e]??={store:null,source:ee(void 0),unsubscribe:N};if(s.store!==r&&!(A in n))if(s.unsubscribe(),s.store=r??null,r==null)s.source.v=void 0,s.unsubscribe=N;else{var t=!0;s.unsubscribe=re(r,i=>{t?s.source.v=i:L(s.source,i)}),t=!1}return r&&A in n?se(r):v(s.source)}function Te(){const r={};function e(){ne(()=>{for(var n in r)r[n].unsubscribe();te(r,A,{enumerable:!1,value:!0})})}return[r,e]}function Se(r){var e=S;try{return S=!1,[r(),S]}finally{S=e}}const we={get(r,e){if(!r.exclude.includes(e))return r.props[e]},set(r,e){return!1},getOwnPropertyDescriptor(r,e){if(!r.exclude.includes(e)&&e in r.props)return{enumerable:!0,configurable:!0,value:r.props[e]}},has(r,e){return r.exclude.includes(e)?!1:e in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(e=>!r.exclude.includes(e))}};function Ee(r,e,n){return new Proxy({props:r,exclude:e},we)}const Pe={get(r,e){if(!r.exclude.includes(e))return v(r.version),e in r.special?r.special[e]():r.props[e]},set(r,e,n){if(!(e in r.special)){var s=R;try{B(r.parent_effect),r.special[e]=xe({get[e](){return r.props[e]}},e,Y)}finally{B(s)}}return r.special[e](n),y(r.version),!0},getOwnPropertyDescriptor(r,e){if(!r.exclude.includes(e)&&e in r.props)return{enumerable:!0,configurable:!0,value:r.props[e]}},deleteProperty(r,e){return r.exclude.includes(e)||(r.exclude.push(e),y(r.version)),!0},has(r,e){return r.exclude.includes(e)?!1:e in r.props},ownKeys(r){return Reflect.ownKeys(r.props).filter(e=>!r.exclude.includes(e))}};function Ie(r,e){return new Proxy({props:r,exclude:e,special:{},version:he(0),parent_effect:R},Pe)}const ge={get(r,e){let n=r.props.length;for(;n--;){let s=r.props[n];if(h(s)&&(s=s()),typeof s=="object"&&s!==null&&e in s)return s[e]}},set(r,e,n){let s=r.props.length;for(;s--;){let t=r.props[s];h(t)&&(t=t());const i=x(t,e);if(i&&i.set)return i.set(n),!0}return!1},getOwnPropertyDescriptor(r,e){let n=r.props.length;for(;n--;){let s=r.props[n];if(h(s)&&(s=s()),typeof s=="object"&&s!==null&&e in s){const t=x(s,e);return t&&!t.configurable&&(t.configurable=!0),t}}},has(r,e){if(e===C||e===F)return!1;for(let n of r.props)if(h(n)&&(n=n()),n!=null&&e in n)return!0;return!1},ownKeys(r){const e=[];for(let n of r.props)if(h(n)&&(n=n()),!!n){for(const s in n)e.includes(s)||e.push(s);for(const s of Object.getOwnPropertySymbols(n))e.includes(s)||e.push(s)}return e}};function De(...r){return new Proxy({props:r},ge)}function xe(r,e,n,s){var t=!ce||(n&le)!==0,i=(n&fe)!==0,u=(n&ve)!==0,a=s,f=!0,c=()=>(f&&(f=!1,a=u?oe(s):s),a),l;if(i){var b=C in r||F in r;l=x(r,e)?.set??(b&&e in r?o=>r[e]=o:void 0)}var p,O=!1;i?[p,O]=Se(()=>r[e]):p=r[e],p===void 0&&s!==void 0&&(p=c(),l&&(t&&ie(),l(p)));var d;if(t?d=()=>{var o=r[e];return o===void 0?c():(f=!0,o)}:d=()=>{var o=r[e];return o!==void 0&&(a=void 0),o===void 0?a:o},t&&(n&Y)===0)return d;if(l){var K=r.$$legacy;return(function(o,m){return arguments.length>0?((!t||!m||K||O)&&l(m?d():o),o):d()})}var w=!1,_=((n&de)!==0?pe:_e)(()=>(w=!1,d()));i&&v(_);var U=R;return(function(o,m){if(arguments.length>0){const T=m?v(_):t&&i?ae(o):o;return L(_,T),w=!0,a!==void 0&&(a=T),o}return be&&w||(U.f&ue)!==0?_.v:v(_)})}export{me as B,Oe as a,Te as b,Re as i,Ie as l,xe as p,Ee as r,De as s};
