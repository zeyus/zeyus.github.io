import{h as F,d as w,a as v,f as E,s as I}from"./Cn6dfEUX.mjs";import{p as S,aa as D,f as b,a as K,c as B,r as $,t as P,s as A,g as j,ab as R}from"./DkShWkU_.mjs";import{p as h,i as V}from"./BKh1zI9R.mjs";import{c as C,b as z}from"./D05PgHys.mjs";import{e as G,i as H}from"./CTBoTZXo.mjs";import"./JjAbZJAB.mjs";import{L as J,a as M}from"./B3Z3vtbY.mjs";const at=n=>({text:n,url:"",occurrences:1}),L=(n,i,r)=>{if(n instanceof KeyboardEvent&&n.key!=="Enter")return;n.preventDefault();const l=n.target.href.split("#")[1],t=document.getElementById(l);if(!t)return;t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"});const s=t.querySelector("button");s&&s.focus(),t.setAttribute("data-return-to",i.toString()),t.classList.add(r()),setTimeout(()=>{t.classList.remove(r())},1e3)};var Q=E('<sup class="footnote-ref-sup"><a> </a></sup>');function nt(n,i){S(i,!0);let r=h(i,"item",7),l=h(i,"items",27,()=>D([])),t=h(i,"highlightClass",3,"bg-primary-800/50");l().includes(r())||(r().occurrences=1,l().push(r()));let s=l().indexOf(r()),m=r().occurrences||1;var _=w(),k=b(_);{var a=c=>{var f=Q(),e=B(f);e.__touchend=[L,m,t],e.__keydown=[L,m,t],e.__click=[L,m,t];var o=B(e,!0);$(e),$(f),P(()=>{C(e,"href",`#footnote-${s+1}`),C(e,"data-occurrence",m),z(e,1,`footnote-ref footnote-${s+1}-ref align-top text-xs text-primary-300`),I(o,s+1)}),v(c,f)};V(k,c=>{s>=0&&c(a)})}v(n,_),K()}F(["touchend","keydown","click"]);var U=E('<button type="button" class="h-5 ml-0 my-0 footnote-id object-top align-top text-xs text-primary-300 mr-1" aria-label="Scroll back to reference"></button> ',1),W=E('<div class="w-100 mt-12 mb-4"><div class="w-64 border-t border-slate-400 -ml-4"></div></div> <!>',1);function it(n,i){S(i,!0);let r=h(i,"items",27,()=>D([])),l=h(i,"highlightClass",3,"bg-primary-800/50");const t=["transition","ease-in-out","duration-300","delay-150"];function s(a){var y,x;if(a instanceof KeyboardEvent&&a.key!=="Enter")return;a.preventDefault();const c=(x=(y=a.target)==null?void 0:y.parentElement)==null?void 0:x.getAttribute("data-return-to"),f=a.target.getAttribute("data-target");if(!f)return;const e=document.getElementsByClassName(f);if(!e)return;let o=null;for(let u=0;u<e.length;u++)if(e[u].getAttribute("data-occurrence")===c){o=e[u];break}o||(o=e[0]),o.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),o.focus(),o.classList.add(...t),o.classList.add(l()),setTimeout(()=>{o.classList.remove(l())},1e3),setTimeout(()=>{o.classList.remove(...t)},1900);const p=o.closest(".footnote-ref-sup");if(!p)return;const d=p.parentElement;d&&(d.classList.add(...t),d.classList.add(l()),setTimeout(()=>{d.classList.remove(l())},1e3),setTimeout(()=>{d.classList.remove(...t)},1900))}var m=w(),_=b(m);{var k=a=>{var c=W(),f=A(b(c),2);J(f,{class:"w-full flex flex-col",position:"inside",children:(e,o)=>{var p=w(),d=b(p);G(d,17,r,H,(y,x,u)=>{const q=R(()=>t.join(" "));M(y,{id:`footnote-${u+1}`,get liClass(){return`mb-2 footnote text-sm list-none basis-full w-full flex justify-start content-start ${j(q)??""}`},children:(N,X)=>{var T=U(),g=b(T);C(g,"data-target",`footnote-${u+1}-ref`),g.__touchend=s,g.__keydown=s,g.__click=s,g.textContent=u+1;var O=A(g);P(()=>I(O,` ${j(x).text??""}`)),v(N,T)},$$slots:{default:!0}})}),v(e,p)},$$slots:{default:!0}}),v(a,c)};V(_,a=>{r().length>0&&a(k)})}v(n,m),K()}F(["touchend","keydown","click"]);export{it as B,nt as a,at as c};
