import{h as A,c as k,a as g,f as w,s as j}from"./BAeyy59I.mjs";import{p as F,ah as I,f as b,a as S,c as E,r as T,t as D,s as B,g as $,u as O}from"./w9IvsRUR.mjs";import{p as _,i as K}from"./C-72u91k.mjs";import{d as L,e as R}from"./BUpk2Ayj.mjs";import{e as z,i as G}from"./DZuRvhcU.mjs";import{L as H,a as J}from"./BcA0cdj7.mjs";const rt=h=>({text:h,url:"",occurrences:1});var M=w('<sup class="footnote-ref-sup"><a> </a></sup>');function st(h,a){F(a,!0);let n=_(a,"item",7),i=_(a,"items",27,()=>I([])),l=_(a,"highlightClass",3,"bg-primary-800/50");i().includes(n())||(n().occurrences=1,i().push(n()));let c=i().indexOf(n()),v=n().occurrences||1;const p=e=>{if(e instanceof KeyboardEvent&&e.key!=="Enter")return;e.preventDefault();const o=e.target.href.split("#")[1],t=document.getElementById(o);if(!t)return;t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"});const s=t.querySelector("button");s&&s.focus(),t.setAttribute("data-return-to",v.toString()),t.classList.add(l()),setTimeout(()=>{t.classList.remove(l())},1e3)};var y=k(),r=b(y);{var f=e=>{var o=M(),t=E(o);t.__touchend=p,t.__keydown=p,t.__click=p;var s=E(t,!0);T(t),T(o),D(()=>{L(t,"href",`#footnote-${c+1}`),L(t,"data-occurrence",v),R(t,1,`footnote-ref footnote-${c+1}-ref align-top text-xs text-primary-300`),j(s,c+1)}),g(e,o)};K(r,e=>{c>=0&&e(f)})}g(h,y),S()}A(["touchend","keydown","click"]);var Q=w('<button type="button" class="h-5 ml-0 my-0 footnote-id object-top align-top text-xs text-primary-300 mr-1" aria-label="Scroll back to reference"></button> ',1),U=w('<div class="w-100 mt-12 mb-4"><div class="w-64 border-t border-slate-400 -ml-4"></div></div> <!>',1);function at(h,a){F(a,!0);let n=_(a,"items",27,()=>I([])),i=_(a,"highlightClass",3,"bg-primary-800/50");const l=["transition","ease-in-out","duration-300","delay-150"];function c(r){if(r instanceof KeyboardEvent&&r.key!=="Enter")return;r.preventDefault();const f=r.target?.parentElement?.getAttribute("data-return-to"),e=r.target.getAttribute("data-target");if(!e)return;const o=document.getElementsByClassName(e);if(!o)return;let t=null;for(let m=0;m<o.length;m++)if(o[m].getAttribute("data-occurrence")===f){t=o[m];break}t||(t=o[0]),t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),t.focus(),t.classList.add(...l),t.classList.add(i()),setTimeout(()=>{t.classList.remove(i())},1e3),setTimeout(()=>{t.classList.remove(...l)},1900);const s=t.closest(".footnote-ref-sup");if(!s)return;const u=s.parentElement;u&&(u.classList.add(...l),u.classList.add(i()),setTimeout(()=>{u.classList.remove(i())},1e3),setTimeout(()=>{u.classList.remove(...l)},1900))}var v=k(),p=b(v);{var y=r=>{var f=U(),e=B(b(f),2);H(e,{class:"w-full flex flex-col",position:"inside",children:(o,t)=>{var s=k(),u=b(s);z(u,17,n,G,(m,P,x)=>{{let V=O(()=>l.join(" "));J(m,{id:`footnote-${x+1}`,get class(){return`mb-2 footnote text-sm list-none basis-full w-full flex justify-start content-start ${$(V)??""}`},children:(q,W)=>{var C=Q(),d=b(C);L(d,"data-target",`footnote-${x+1}-ref`),d.__touchend=c,d.__keydown=c,d.__click=c,d.textContent=x+1;var N=B(d);D(()=>j(N,` ${$(P).text??""}`)),g(q,C)},$$slots:{default:!0}})}}),g(o,s)},$$slots:{default:!0}}),g(r,f)};K(p,r=>{n().length>0&&r(y)})}g(h,v),S()}A(["touchend","keydown","click"]);export{at as B,st as a,rt as c};
