import{g as A,f as w,a as p,t as E,s as V}from"./C5Ut9zXF.mjs";import{p as j,a8 as F,f as b,a as I,c as q,r as N,s as B,t as O,g as $,a9 as R}from"./Uzs9U7R2.mjs";import{p as h,i as S}from"./GLKCQvsA.mjs";import{b as C,c as z}from"./CU5yH-3g.mjs";import{e as G,i as H}from"./DMwkW6sT.mjs";import"./DKewNem5.mjs";import{L as J,a as M}from"./Cq1w12E5.mjs";const at=n=>({text:n,url:"",occurrences:1}),L=(n,i,o)=>{if(n instanceof KeyboardEvent&&n.key!=="Enter")return;n.preventDefault();const l=n.target.href.split("#")[1],t=document.getElementById(l);if(!t)return;t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"});const r=t.querySelector("button");r&&r.focus(),t.setAttribute("data-return-to",i.toString()),t.classList.add(o()),setTimeout(()=>{t.classList.remove(o())},1e3)};var Q=E('<sup class="footnote-ref-sup"><a></a></sup>');function nt(n,i){j(i,!0);let o=h(i,"item",7),l=h(i,"items",27,()=>F([])),t=h(i,"highlightClass",3,"bg-primary-800/50");l().includes(o())||(o().occurrences=1,l().push(o()));let r=l().indexOf(o()),m=o().occurrences||1;var _=w(),k=b(_);{var s=c=>{var f=Q(),e=q(f);e.__touchend=[L,m,t],e.__keydown=[L,m,t],e.__click=[L,m,t],C(e,"href",`#footnote-${r+1}`),C(e,"data-occurrence",m),z(e,1,`footnote-ref footnote-${r+1}-ref align-top text-xs text-primary-300`),e.textContent=r+1,N(f),p(c,f)};S(k,c=>{r>=0&&c(s)})}p(n,_),I()}A(["touchend","keydown","click"]);var U=E('<button type="button" class="h-5 ml-0 my-0 footnote-id object-top align-top text-xs text-primary-300 mr-1" aria-label="Scroll back to reference"></button> ',1),W=E('<div class="w-100 mt-12 mb-4"><div class="w-64 border-t border-slate-400 -ml-4"></div></div> <!>',1);function it(n,i){j(i,!0);let o=h(i,"items",27,()=>F([])),l=h(i,"highlightClass",3,"bg-primary-800/50");const t=["transition","ease-in-out","duration-300","delay-150"];function r(s){var y,x;if(s instanceof KeyboardEvent&&s.key!=="Enter")return;s.preventDefault();const c=(x=(y=s.target)==null?void 0:y.parentElement)==null?void 0:x.getAttribute("data-return-to"),f=s.target.getAttribute("data-target");if(!f)return;const e=document.getElementsByClassName(f);if(!e)return;let a=null;for(let u=0;u<e.length;u++)if(e[u].getAttribute("data-occurrence")===c){a=e[u];break}a||(a=e[0]),a.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),a.focus(),a.classList.add(...t),a.classList.add(l()),setTimeout(()=>{a.classList.remove(l())},1e3),setTimeout(()=>{a.classList.remove(...t)},1900);const v=a.closest(".footnote-ref-sup");if(!v)return;const d=v.parentElement;d&&(d.classList.add(...t),d.classList.add(l()),setTimeout(()=>{d.classList.remove(l())},1e3),setTimeout(()=>{d.classList.remove(...t)},1900))}var m=w(),_=b(m);{var k=s=>{var c=W(),f=B(b(c),2);J(f,{class:"w-full flex flex-col",position:"inside",children:(e,a)=>{var v=w(),d=b(v);G(d,17,o,H,(y,x,u)=>{const D=R(()=>t.join(" "));M(y,{id:`footnote-${u+1}`,get liClass(){return`mb-2 footnote text-sm list-none basis-full w-full flex justify-start content-start ${$(D)??""}`},children:(K,X)=>{var T=U(),g=b(T);C(g,"data-target",`footnote-${u+1}-ref`),g.__touchend=r,g.__keydown=r,g.__click=r,g.textContent=u+1;var P=B(g);O(()=>V(P,` ${$(x).text??""}`)),p(K,T)},$$slots:{default:!0}})}),p(e,v)},$$slots:{default:!0}}),p(s,c)};S(_,s=>{o().length>0&&s(k)})}p(n,m),I()}A(["touchend","keydown","click"]);export{it as B,nt as a,at as c};
