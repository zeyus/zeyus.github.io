import{al as ee,b as ae,am as G,h as A,k,d as re,z as se,an as P,I as ne,J,K as D,g as w,ao as H,L as Q,e as W,M as le,q as ie,a3 as K,ap as L,aq as U,ar as y,as as fe,at as te,au as ue,m as ve,l as _e,av as ce,aw as de,ax as oe,B as he,a0 as X,ay as pe,i as Ee}from"./utils.DPR7n44y.mjs";function Ie(a,e){return e}function Ae(a,e,r,s){for(var v=[],c=e.length,u=0;u<c;u++)fe(e[u].e,v,!0);var d=c>0&&v.length===0&&r!==null;if(d){var N=r.parentNode;te(N),N.append(r),s.clear(),T(a,e[0].prev,e[c-1].next)}ue(v,()=>{for(var h=0;h<c;h++){var _=e[h];d||(s.delete(_.k),T(a,_.prev,_.next)),ve(_.e,!d)}})}function Te(a,e,r,s,v,c=null){var u=a,d={flags:e,items:new Map,first:null},N=(e&G)!==0;if(N){var h=a;u=A?k(_e(h)):h.appendChild(ee())}A&&re();var _=null,b=!1;ae(()=>{var n=r(),t=se(n)?n:n==null?[]:P(n),f=t.length;if(b&&f===0)return;b=f===0;let x=!1;if(A){var p=u.data===ne;p!==(f===0)&&(u=J(),k(u),D(!1),x=!0)}if(A){for(var E=null,m,o=0;o<f;o++){if(w.nodeType===8&&w.data===ce){u=w,x=!0,D(!1);break}var l=t[o],i=s(l,o);m=Z(w,d,E,null,l,i,o,v,e),d.items.set(i,m),E=m}f>0&&k(J())}if(!A){var M=de;Ne(t,d,u,v,e,(M.f&H)!==0,s)}c!==null&&(f===0?_?Q(_):_=W(()=>c(u)):_!==null&&le(_,()=>{_=null})),x&&D(!0),r()}),A&&(u=w)}function Ne(a,e,r,s,v,c,u){var q,B,V,Y;var d=(v&oe)!==0,N=(v&(L|y))!==0,h=a.length,_=e.items,b=e.first,n=b,t,f=null,x,p=[],E=[],m,o,l,i;if(d)for(i=0;i<h;i+=1)m=a[i],o=u(m,i),l=_.get(o),l!==void 0&&((q=l.a)==null||q.measure(),(x??(x=new Set)).add(l));for(i=0;i<h;i+=1){if(m=a[i],o=u(m,i),l=_.get(o),l===void 0){var M=n?n.e.nodes_start:r;f=Z(M,e,f,f===null?e.first:f.next,m,o,i,s,v),_.set(o,f),p=[],E=[],n=f.next;continue}if(N&&me(l,m,i,v),l.e.f&H&&(Q(l.e),d&&((B=l.a)==null||B.unfix(),(x??(x=new Set)).delete(l))),l!==n){if(t!==void 0&&t.has(l)){if(p.length<E.length){var C=E[0],I;f=C.prev;var O=p[0],R=p[p.length-1];for(I=0;I<p.length;I+=1)F(p[I],C,r);for(I=0;I<E.length;I+=1)t.delete(E[I]);T(e,O.prev,R.next),T(e,f,O),T(e,R,C),n=C,f=R,i-=1,p=[],E=[]}else t.delete(l),F(l,n,r),T(e,l.prev,l.next),T(e,l,f===null?e.first:f.next),T(e,f,l),f=l;continue}for(p=[],E=[];n!==null&&n.k!==o;)(c||!(n.e.f&H))&&(t??(t=new Set)).add(n),E.push(n),n=n.next;if(n===null)continue;l=n}p.push(l),f=l,n=l.next}if(n!==null||t!==void 0){for(var g=t===void 0?[]:P(t);n!==null;)(c||!(n.e.f&H))&&g.push(n),n=n.next;var S=g.length;if(S>0){var j=v&G&&h===0?r:null;if(d){for(i=0;i<S;i+=1)(V=g[i].a)==null||V.measure();for(i=0;i<S;i+=1)(Y=g[i].a)==null||Y.fix()}Ae(e,g,j,_)}}d&&ie(()=>{var z;if(x!==void 0)for(l of x)(z=l.a)==null||z.apply()}),K.first=e.first&&e.first.e,K.last=f&&f.e}function me(a,e,r,s){s&L&&U(a.v,e),s&y?U(a.i,r):a.i=r}function Z(a,e,r,s,v,c,u,d,N){var h=(N&L)!==0,_=(N&pe)===0,b=h?_?he(v):X(v):v,n=N&y?X(u):u,t={i:n,v:b,k:c,a:null,e:null,prev:r,next:s};try{return t.e=W(()=>d(a,b,n),A),t.e.prev=r&&r.e,t.e.next=s&&s.e,r===null?e.first=t:(r.next=t,r.e.next=t.e),s!==null&&(s.prev=t,s.e.prev=t.e),t}finally{}}function F(a,e,r){for(var s=a.next?a.next.e.nodes_start:r,v=e?e.e.nodes_start:r,c=a.e.nodes_start;c!==s;){var u=Ee(c);v.before(c),c=u}}function T(a,e,r){e===null?a.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function be(a,e){var r=a.__className,s=$(e);A&&a.getAttribute("class")===s?a.__className=s:(r!==s||A&&a.getAttribute("class")!==s)&&(s===""?a.removeAttribute("class"):a.setAttribute("class",s),a.__className=s)}function ge(a,e){var r=a.__className,s=$(e);A&&a.className===s?a.__className=s:(r!==s||A&&a.className!==s)&&(e==null?a.removeAttribute("class"):a.className=s,a.__className=s)}function $(a){return a??""}export{ge as a,Te as e,Ie as i,be as s};
