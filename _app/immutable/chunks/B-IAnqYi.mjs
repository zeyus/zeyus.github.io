import{h as A,c as L,a as v,f as E,s as N}from"./CksDNwD5.mjs";import{p as j,ah as F,f as _,a as S,g as c,u as w,c as B,r as I,t as R,s as $}from"./Dfc-jXbR.mjs";import{p as x,i as D}from"./PCsPNu9e.mjs";import{d as C,e as z}from"./BHgoS8DM.mjs";import{e as G,i as H}from"./CPWSuNug.mjs";import{h as J}from"./m47kl-V6.mjs";import{L as M,a as O}from"./C103B7qv.mjs";const at=p=>({text:p,url:"",occurrences:1});var Q=E('<sup class="footnote-ref-sup"><a> </a></sup>');function nt(p,n){j(n,!0);let i=x(n,"item",7),a=x(n,"items",27,()=>F([])),l=x(n,"highlightClass",3,"bg-primary-800/50"),u=a().findIndex(e=>e.text===i().text);u===-1&&(i().occurrences=1,a().push(i()),u=a().length-1);let f=w(()=>a().findIndex(e=>e.text===i().text)),y=w(()=>i().occurrences||1);const b=e=>{if(e instanceof KeyboardEvent&&e.key!=="Enter")return;e.preventDefault();const o=e.target.href.split("#")[1],t=document.getElementById(o);if(!t)return;t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"});const s=t.querySelector("button");s&&s.focus(),t.setAttribute("data-return-to",c(y).toString()),t.classList.add(l()),setTimeout(()=>{t.classList.remove(l())},1e3)};var r=L(),d=_(r);{var m=e=>{var o=Q(),t=B(o);t.__touchend=b,t.__keydown=b,t.__click=b;var s=B(t,!0);I(t),I(o),R(()=>{C(t,"href",`#footnote-${c(f)+1}`),C(t,"data-occurrence",c(y)),z(t,1,`footnote-ref footnote-${c(f)+1}-ref align-top text-xs text-primary-300`),N(s,c(f)+1)}),v(e,o)};D(d,e=>{c(f)>=0&&e(m)})}v(p,r),S()}A(["touchend","keydown","click"]);var U=E('<button type="button" class="h-5 ml-0 my-0 footnote-id object-top align-top text-xs text-primary-300 mr-1" aria-label="Scroll back to reference"></button> <!>',1),W=E('<div class="w-100 mt-12 mb-4"><div class="w-64 border-t border-slate-400 -ml-4"></div></div> <!>',1);function it(p,n){j(n,!0);let i=x(n,"items",27,()=>F([])),a=x(n,"highlightClass",3,"bg-primary-800/50");const l=["transition","ease-in-out","duration-300","delay-150"];function u(r){if(r instanceof KeyboardEvent&&r.key!=="Enter")return;r.preventDefault();const d=r.target?.parentElement?.getAttribute("data-return-to"),m=r.target.getAttribute("data-target");if(!m)return;const e=document.getElementsByClassName(m);if(!e)return;let o=null;for(let g=0;g<e.length;g++)if(e[g].getAttribute("data-occurrence")===d){o=e[g];break}o||(o=e[0]),o.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),o.focus(),o.classList.add(...l),o.classList.add(a()),setTimeout(()=>{o.classList.remove(a())},1e3),setTimeout(()=>{o.classList.remove(...l)},1900);const t=o.closest(".footnote-ref-sup");if(!t)return;const s=t.parentElement;s&&(s.classList.add(...l),s.classList.add(a()),setTimeout(()=>{s.classList.remove(a())},1e3),setTimeout(()=>{s.classList.remove(...l)},1900))}var f=L(),y=_(f);{var b=r=>{var d=W(),m=$(_(d),2);M(m,{class:"w-full flex flex-col",position:"inside",children:(e,o)=>{var t=L(),s=_(t);G(s,17,i,H,(g,K,k)=>{{let P=w(()=>l.join(" "));O(g,{id:`footnote-${k+1}`,get class(){return`mb-2 footnote text-sm list-none basis-full w-full flex justify-start content-start ${c(P)??""}`},children:(V,X)=>{var T=U(),h=_(T);C(h,"data-target",`footnote-${k+1}-ref`),h.__touchend=u,h.__keydown=u,h.__click=u,h.textContent=k+1;var q=$(h,2);J(q,()=>c(K).text),v(V,T)},$$slots:{default:!0}})}}),v(e,t)},$$slots:{default:!0}}),v(r,d)};D(y,r=>{i().length>0&&r(b)})}v(p,f),S()}A(["touchend","keydown","click"]);export{it as B,nt as a,at as c};
