import"./Bzak7iHL.mjs";import{ag as F,p as I,ah as S,a9 as w,a as p,b as v,c as D,f as E,d as B,r as $,t as K,e as P,s as A,l as j,ai as R}from"./koPOmyr6.mjs";import{p as h,i as V}from"./CXit3Vou.mjs";import{c as C,b as z}from"./hkeMb-W2.mjs";import{e as G,i as H}from"./CDZiSYZ-.mjs";import"./KQVCLfPd.mjs";import{L as J,a as M}from"./Drnu4EHT.mjs";const at=n=>({text:n,url:"",occurrences:1}),L=(n,i,r)=>{if(n instanceof KeyboardEvent&&n.key!=="Enter")return;n.preventDefault();const l=n.target.href.split("#")[1],t=document.getElementById(l);if(!t)return;t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"});const s=t.querySelector("button");s&&s.focus(),t.setAttribute("data-return-to",i.toString()),t.classList.add(r()),setTimeout(()=>{t.classList.remove(r())},1e3)};var Q=E('<sup class="footnote-ref-sup"><a> </a></sup>');function nt(n,i){I(i,!0);let r=h(i,"item",7),l=h(i,"items",27,()=>S([])),t=h(i,"highlightClass",3,"bg-primary-800/50");l().includes(r())||(r().occurrences=1,l().push(r()));let s=l().indexOf(r()),m=r().occurrences||1;var _=w(),k=p(_);{var a=c=>{var u=Q(),e=B(u);e.__touchend=[L,m,t],e.__keydown=[L,m,t],e.__click=[L,m,t];var o=B(e,!0);$(e),$(u),K(()=>{C(e,"href",`#footnote-${s+1}`),C(e,"data-occurrence",m),z(e,1,`footnote-ref footnote-${s+1}-ref align-top text-xs text-primary-300`),P(o,s+1)}),v(c,u)};V(k,c=>{s>=0&&c(a)})}v(n,_),D()}F(["touchend","keydown","click"]);var U=E('<button type="button" class="h-5 ml-0 my-0 footnote-id object-top align-top text-xs text-primary-300 mr-1" aria-label="Scroll back to reference"></button> ',1),W=E('<div class="w-100 mt-12 mb-4"><div class="w-64 border-t border-slate-400 -ml-4"></div></div> <!>',1);function it(n,i){I(i,!0);let r=h(i,"items",27,()=>S([])),l=h(i,"highlightClass",3,"bg-primary-800/50");const t=["transition","ease-in-out","duration-300","delay-150"];function s(a){var y,x;if(a instanceof KeyboardEvent&&a.key!=="Enter")return;a.preventDefault();const c=(x=(y=a.target)==null?void 0:y.parentElement)==null?void 0:x.getAttribute("data-return-to"),u=a.target.getAttribute("data-target");if(!u)return;const e=document.getElementsByClassName(u);if(!e)return;let o=null;for(let f=0;f<e.length;f++)if(e[f].getAttribute("data-occurrence")===c){o=e[f];break}o||(o=e[0]),o.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),o.focus(),o.classList.add(...t),o.classList.add(l()),setTimeout(()=>{o.classList.remove(l())},1e3),setTimeout(()=>{o.classList.remove(...t)},1900);const b=o.closest(".footnote-ref-sup");if(!b)return;const d=b.parentElement;d&&(d.classList.add(...t),d.classList.add(l()),setTimeout(()=>{d.classList.remove(l())},1e3),setTimeout(()=>{d.classList.remove(...t)},1900))}var m=w(),_=p(m);{var k=a=>{var c=W(),u=A(p(c),2);J(u,{class:"w-full flex flex-col",position:"inside",children:(e,o)=>{var b=w(),d=p(b);G(d,17,r,H,(y,x,f)=>{{let q=R(()=>t.join(" "));M(y,{id:`footnote-${f+1}`,get liClass(){return`mb-2 footnote text-sm list-none basis-full w-full flex justify-start content-start ${j(q)??""}`},children:(N,X)=>{var T=U(),g=p(T);C(g,"data-target",`footnote-${f+1}-ref`),g.__touchend=s,g.__keydown=s,g.__click=s,g.textContent=f+1;var O=A(g);K(()=>P(O,` ${j(x).text??""}`)),v(N,T)},$$slots:{default:!0}})}}),v(e,b)},$$slots:{default:!0}}),v(a,c)};V(_,a=>{r().length>0&&a(k)})}v(n,m),D()}F(["touchend","keydown","click"]);export{it as B,nt as a,at as c};
