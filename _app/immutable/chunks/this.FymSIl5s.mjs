import{a1 as N,a2 as h,a3 as k,a4 as R,a5 as L,a6 as g,a7 as o,a8 as d,a9 as T,aa as E,ab as A,ac as q,U as v,ad as x,ae as D,e as F,af as O,S as U}from"./utils.VG-PDj_W.mjs";function B(s,r,e=!1){h&&k();var i=s,f=null,a=null,c=v,b=e?R:0,l=!1;const y=(n,t=!0)=>{l=!0,u(t,n)},u=(n,t)=>{if(c===(c=n))return;let _=!1;if(h){const I=i.data===L;!!c===I&&(i=g(),o(i),d(!1),_=!0)}c?(f?T(f):t&&(f=E(()=>t(i))),a&&A(a,()=>{a=null})):(a?T(a):t&&(a=E(()=>t(i))),f&&A(f,()=>{f=null})),_&&d(!0)};N(()=>{l=!1,r(y),l||u(null,null)},b),h&&(i=q)}function S(s,r){return s===r||(s==null?void 0:s[U])===r}function C(s={},r,e,i){return x(()=>{var f,a;return D(()=>{f=a,a=[],F(()=>{s!==e(...a)&&(r(s,...a),f&&S(e(...f),s)&&r(null,...f))})}),()=>{O(()=>{a&&S(e(...a),s)&&r(null,...a)})}}),s}export{C as b,B as i};
