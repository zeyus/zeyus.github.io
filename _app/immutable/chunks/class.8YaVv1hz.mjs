import{Z as ae,d as re,_ as z,h as p,q as M,b as ne,B as se,$ as J,C as le,D as G,F as k,g as w,a0 as H,G as K,e as P,i as ie,x as te,a1 as U,a2 as L,a3 as X,a4 as O,a5 as fe,a6 as ue,a7 as ve,w as _e,v as ce,a8 as oe,a9 as de,aa as he,ab as Ee,ac as Z,ad as pe,n as Ae}from"./utils.RFpxasSs.mjs";function be(a,e){return e}function Ne(a,e,r,t){for(var n=[],_=e.length,u=0;u<_;u++)fe(e[u].e,n,!0);var A=_>0&&n.length===0&&r!==null;if(A){var o=r.parentNode;ue(o),o.append(r),t.clear(),g(a,e[0].prev,e[_-1].next)}ve(n,()=>{for(var x=0;x<_;x++){var c=e[x];A||(t.delete(c.k),g(a,c.prev,c.next)),_e(c.e,!A)}})}function ge(a,e,r,t,n,_=null){var u=a,A={flags:e,items:new Map,first:null},o=(e&z)!==0;if(o){var x=a;u=p?M(ce(x)):x.appendChild(ae())}p&&ne();var c=null,m=!1;re(()=>{var T=r(),s=se(T)?T:T==null?[]:J(T),i=s.length;if(m&&i===0)return;m=i===0;let v=!1;if(p){var I=u.data===le;I!==(i===0)&&(u=G(),M(u),k(!1),v=!0)}if(p){for(var d=null,h,E=0;E<i;E++){if(w.nodeType===8&&w.data===oe){u=w,v=!0,k(!1);break}var N=s[E],l=t(N,E);h=Q(w,A,d,null,N,l,E,n,e),A.items.set(l,h),d=h}i>0&&M(G())}if(!p){var f=de;xe(s,A,u,n,e,(f.f&H)!==0,t)}_!==null&&(i===0?c?K(c):c=P(()=>_(u)):c!==null&&ie(c,()=>{c=null})),v&&k(!0),r()}),p&&(u=w)}function xe(a,e,r,t,n,_,u,A){var q,B,V,Y;var o=(n&he)!==0,x=(n&(L|O))!==0,c=a.length,m=e.items,T=e.first,s=T,i,v=null,I,d=[],h=[],E,N,l,f;if(o)for(f=0;f<c;f+=1)E=a[f],N=u(E,f),l=m.get(N),l!==void 0&&((q=l.a)==null||q.measure(),(I??(I=new Set)).add(l));for(f=0;f<c;f+=1){if(E=a[f],N=u(E,f),l=m.get(N),l===void 0){var j=s?s.e.nodes_start:r;v=Q(j,e,v,v===null?e.first:v.next,E,N,f,t,n),m.set(N,v),d=[],h=[],s=v.next;continue}if(x&&me(l,E,f,n),l.e.f&H&&(K(l.e),o&&((B=l.a)==null||B.unfix(),(I??(I=new Set)).delete(l))),l!==s){if(i!==void 0&&i.has(l)){if(d.length<h.length){var D=h[0],b;v=D.prev;var y=d[0],R=d[d.length-1];for(b=0;b<d.length;b+=1)$(d[b],D,r);for(b=0;b<h.length;b+=1)i.delete(h[b]);g(e,y.prev,R.next),g(e,v,y),g(e,R,D),s=D,v=R,f-=1,d=[],h=[]}else i.delete(l),$(l,s,r),g(e,l.prev,l.next),g(e,l,v===null?e.first:v.next),g(e,v,l),v=l;continue}for(d=[],h=[];s!==null&&s.k!==N;)(_||!(s.e.f&H))&&(i??(i=new Set)).add(s),h.push(s),s=s.next;if(s===null)continue;l=s}d.push(l),v=l,s=l.next}if(s!==null||i!==void 0){for(var C=i===void 0?[]:J(i);s!==null;)(_||!(s.e.f&H))&&C.push(s),s=s.next;var S=C.length;if(S>0){var ee=n&z&&c===0?r:null;if(o){for(f=0;f<S;f+=1)(V=C[f].a)==null||V.measure();for(f=0;f<S;f+=1)(Y=C[f].a)==null||Y.fix()}Ne(e,C,ee,m)}}o&&te(()=>{var F;if(I!==void 0)for(l of I)(F=l.a)==null||F.apply()}),U.first=e.first&&e.first.e,U.last=v&&v.e}function me(a,e,r,t){t&L&&X(a.v,e),t&O?X(a.i,r):a.i=r}function Q(a,e,r,t,n,_,u,A,o,x){var c=(o&L)!==0,m=(o&pe)===0,T=c?m?Ee(n):Z(n):n,s=o&O?Z(u):u,i={i:s,v:T,k:_,a:null,e:null,prev:r,next:t};try{return i.e=P(()=>A(a,T,s),p),i.e.prev=r&&r.e,i.e.next=t&&t.e,r===null?e.first=i:(r.next=i,r.e.next=i.e),t!==null&&(t.prev=i,t.e.prev=i.e),i}finally{}}function $(a,e,r){for(var t=a.next?a.next.e.nodes_start:r,n=e?e.e.nodes_start:r,_=a.e.nodes_start;_!==t;){var u=Ae(_);n.before(_),_=u}}function g(a,e,r){e===null?a.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function Ie(a,e,r){var t=a.__className,n=W(e,r);p&&a.getAttribute("class")===n?a.__className=n:(t!==n||p&&a.getAttribute("class")!==n)&&(n===""?a.removeAttribute("class"):a.setAttribute("class",n),a.__className=n)}function Ce(a,e,r){var t=a.__className,n=W(e,r);p&&a.className===n?a.__className=n:(t!==n||p&&a.className!==n)&&(e==null&&!r?a.removeAttribute("class"):a.className=n,a.__className=n)}function W(a,e){return(a??"")+(e?" "+e:"")}export{Ie as a,ge as e,be as i,Ce as s};
