import{f as b,g as k,a as x,t as F}from"./disclose-version.D4qaeyjP.mjs";import{p as w,Z as C,f as E,a as I,c as L,r as R}from"./runtime.fwYrroyh.mjs";import{p as d,i as S}from"./props.C2fH1cog.mjs";import{s as g,a as T}from"./bundle-mjs.BIoPGXIs.mjs";import{p as v}from"./index.DpdpUDNL.mjs";const m=(a,r,o)=>{if(a instanceof KeyboardEvent&&a.key!=="Enter")return;a.preventDefault();const e=a.target.href.split("#")[1],t=document.getElementById(e);if(!t)return;t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"});const c=t.querySelector("button");c&&c.focus(),t.setAttribute("data-return-to",r.toString()),t.classList.add(o()),setTimeout(()=>{t.classList.remove(o())},1e3)};var q=F('<sup class="footnote-ref-sup"><a></a></sup>');function Z(a,r){var h;w(r,!0);let o=C("footnotes"),e=d(r,"item",23,()=>{}),t=d(r,"text",3,"Invalid item, either an item or text must be provided"),c=d(r,"year",19,()=>{}),u=d(r,"highlightClass",3,"bg-primary-800/50");if(e()&&!o.hasFootnote(e()))e().occurrences=1,o.addFootnote(e());else if(t()){const s=o.findFootnote(t(),()=>v.url.pathname);if(s())e(s()),e()&&e().occurrences++;else{let i=v.url.pathname;e({text:t(),url:i,year:c(),occurrences:1}),o.addFootnote(e())}}let f=o.indexOf(e())(),l=((h=e())==null?void 0:h.occurrences)||1;var p=k(),y=E(p);{var _=s=>{var i=q(),n=L(i);n.__touchend=[m,l,u],n.__keydown=[m,l,u],n.__click=[m,l,u],g(n,"href",`#footnote-${f+1}`),g(n,"data-occurrence",l),T(n,`footnote-ref footnote-${f+1}-ref align-top text-xs text-primary-300`),n.textContent=f+1,R(i),x(s,i)};S(y,s=>{f>=0&&s(_)})}x(a,p),I()}b(["touchend","keydown","click"]);export{Z as R};
