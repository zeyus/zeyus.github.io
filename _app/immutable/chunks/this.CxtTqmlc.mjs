import{G as N,m as h,F as R,H as k,R as F,S as L,P as g,T as _,V as d,I as E,K as A,J as o,ad as q,e as v,b as x,u as D,W as H,ae as O}from"./runtime.BeVL6ef-.mjs";function Y(s,f,e=!1){h&&R();var i=s,r=null,a=null,c=q,S=e?k:0,l=!1;const b=(n,t=!0)=>{l=!0,u(t,n)},u=(n,t)=>{if(c===(c=n))return;let T=!1;if(h){const y=i.data===F;!!c===y&&(i=L(),g(i),_(!1),T=!0)}c?(r?d(r):t&&(r=E(()=>t(i))),a&&A(a,()=>{a=null})):(a?d(a):t&&(a=E(()=>t(i))),r&&A(r,()=>{r=null})),T&&_(!0)};N(()=>{l=!1,f(b),l||u(null,null)},S),h&&(i=o)}function I(s,f){return s===f||(s==null?void 0:s[O])===f}function B(s={},f,e,i){return v(()=>{var r,a;return x(()=>{r=a,a=[],D(()=>{s!==e(...a)&&(f(s,...a),r&&I(e(...r),s)&&f(null,...r))})}),()=>{H(()=>{a&&I(e(...a),s)&&f(null,...a)})}}),s}export{B as b,Y as i};
