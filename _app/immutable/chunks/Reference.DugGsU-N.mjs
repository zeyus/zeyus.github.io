import{f as I,g as C,a as v,t as L,s as R}from"./disclose-version.BZPkRJSt.mjs";import{p as S,Z as T,f as q,_ as d,a as A,$ as B,c as x,r as g,t as D}from"./runtime.CP2ERI1C.mjs";import{p as u,i as K}from"./props.I_G5V9ZQ.mjs";import{s as y,a as O}from"./bundle-mjs.BxjsSMqv.mjs";import{p as b}from"./index.DwYh9EYU.mjs";const p=(n,a,o)=>{if(n instanceof KeyboardEvent&&n.key!=="Enter")return;n.preventDefault();const e=n.target.href.split("#")[1],t=document.getElementById(e);if(!t)return;t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"});const c=t.querySelector("button");c&&c.focus(),t.setAttribute("data-return-to",a.toString()),t.classList.add(o()),setTimeout(()=>{t.classList.remove(o())},1e3)};var V=L('<sup class="footnote-ref-sup"><a> </a></sup>');function J(n,a){var _;S(a,!0);let o=T("footnotes"),e=u(a,"item",23,()=>{}),t=u(a,"text",3,"Invalid item, either an item or text must be provided"),c=u(a,"year",19,()=>{}),m=u(a,"highlightClass",3,"bg-primary-800/50");if(e()&&!o.hasFootnote(e()))e().occurrences=1,o.addFootnote(e());else if(t()){const s=o.findFootnote(t(),()=>b.url.pathname);if(s())e(s()),e()&&e().occurrences++;else{let i=b.url.pathname;e({text:t(),url:i,year:c(),occurrences:1}),o.addFootnote(e())}}let k=o.indexOf(e()),f=B(k),l=((_=e())==null?void 0:_.occurrences)||1;var h=C(),F=q(h);{var w=s=>{var i=V(),r=x(i);r.__touchend=[p,l,m],r.__keydown=[p,l,m],r.__click=[p,l,m],y(r,"data-occurrence",l);var E=x(r,!0);g(r),g(i),D(()=>{y(r,"href",`#footnote-${d(f)+1}`),O(r,`footnote-ref footnote-${d(f)+1}-ref align-top text-xs text-primary-300`),R(E,d(f)+1)}),v(s,i)};K(F,s=>{d(f)>=0&&s(w)})}v(n,h),A()}I(["touchend","keydown","click"]);export{J as R};
