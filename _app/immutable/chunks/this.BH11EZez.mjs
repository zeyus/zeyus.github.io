import{E as R,C as h,D as b,F as k,L,M as D,O as F,P as _,Q as d,G as E,I as A,H as O,U as g,J as o,R as q,e as v,S as x,T as C}from"./runtime.CJGLKigF.mjs";function M(a,f,e=!1){h&&b();var i=a,r=null,s=null,c=g,S=e?k:0,l=!1;const y=(n,t=!0)=>{l=!0,u(t,n)},u=(n,t)=>{if(c===(c=n))return;let T=!1;if(h){const N=i.data===L;!!c===N&&(i=D(),F(i),_(!1),T=!0)}c?(r?d(r):t&&(r=E(()=>t(i))),s&&A(s,()=>{s=null})):(s?d(s):t&&(s=E(()=>t(i))),r&&A(r,()=>{r=null})),T&&_(!0)};R(()=>{l=!1,f(y),l||u(null,null)},S),h&&(i=O)}function I(a,f){return a===f||(a==null?void 0:a[C])===f}function P(a={},f,e,i){return o(()=>{var r,s;return q(()=>{r=s,s=[],v(()=>{a!==e(...s)&&(f(a,...s),r&&I(e(...r),a)&&f(null,...r))})}),()=>{x(()=>{s&&I(e(...s),a)&&f(null,...s)})}}),a}export{P as b,M as i};
