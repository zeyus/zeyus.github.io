import{g as A,e as w,a as p,t as E,s as V}from"./BHX9CyLr.mjs";import{p as j,a8 as F,f as b,a as I,c as q,r as N,s as B,a9 as O,t as R,g as $}from"./D28QIPhe.mjs";import{p as h,i as S}from"./DqOltSx5.mjs";import{b as C,c as z}from"./DHmnsc2O.mjs";import{e as G,i as H}from"./zp9rG-Vv.mjs";import"./wIM158lQ.mjs";import{L as J,a as M}from"./BfqnwjgQ.mjs";const at=n=>({text:n,url:"",occurrences:1}),L=(n,i,o)=>{if(n instanceof KeyboardEvent&&n.key!=="Enter")return;n.preventDefault();const l=n.target.href.split("#")[1],t=document.getElementById(l);if(!t)return;t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"});const r=t.querySelector("button");r&&r.focus(),t.setAttribute("data-return-to",i.toString()),t.classList.add(o()),setTimeout(()=>{t.classList.remove(o())},1e3)};var Q=E('<sup class="footnote-ref-sup"><a></a></sup>');function nt(n,i){j(i,!0);let o=h(i,"item",7),l=h(i,"items",27,()=>F([])),t=h(i,"highlightClass",3,"bg-primary-800/50");l().includes(o())||(o().occurrences=1,l().push(o()));let r=l().indexOf(o()),m=o().occurrences||1;var _=w(),k=b(_);{var s=c=>{var u=Q(),e=q(u);e.__touchend=[L,m,t],e.__keydown=[L,m,t],e.__click=[L,m,t],C(e,"href",`#footnote-${r+1}`),C(e,"data-occurrence",m),z(e,1,`footnote-ref footnote-${r+1}-ref align-top text-xs text-primary-300`),e.textContent=r+1,N(u),p(c,u)};S(k,c=>{r>=0&&c(s)})}p(n,_),I()}A(["touchend","keydown","click"]);var U=E('<button type="button" class="h-5 ml-0 my-0 footnote-id object-top align-top text-xs text-primary-300 mr-1" aria-label="Scroll back to reference"></button> ',1),W=E('<div class="w-100 mt-12 mb-4"><div class="w-64 border-t border-slate-400 -ml-4"></div></div> <!>',1);function it(n,i){j(i,!0);let o=h(i,"items",27,()=>F([])),l=h(i,"highlightClass",3,"bg-primary-800/50");const t=["transition","ease-in-out","duration-300","delay-150"];function r(s){var y,x;if(s instanceof KeyboardEvent&&s.key!=="Enter")return;s.preventDefault();const c=(x=(y=s.target)==null?void 0:y.parentElement)==null?void 0:x.getAttribute("data-return-to"),u=s.target.getAttribute("data-target");if(!u)return;const e=document.getElementsByClassName(u);if(!e)return;let a=null;for(let f=0;f<e.length;f++)if(e[f].getAttribute("data-occurrence")===c){a=e[f];break}a||(a=e[0]),a.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),a.focus(),a.classList.add(...t),a.classList.add(l()),setTimeout(()=>{a.classList.remove(l())},1e3),setTimeout(()=>{a.classList.remove(...t)},1900);const v=a.closest(".footnote-ref-sup");if(!v)return;const d=v.parentElement;d&&(d.classList.add(...t),d.classList.add(l()),setTimeout(()=>{d.classList.remove(l())},1e3),setTimeout(()=>{d.classList.remove(...t)},1900))}var m=w(),_=b(m);{var k=s=>{var c=W(),u=B(b(c),2);J(u,{class:"w-full flex flex-col",position:"inside",children:(e,a)=>{var v=w(),d=b(v);G(d,17,o,H,(y,x,f)=>{const D=O(()=>t.join(" "));M(y,{id:`footnote-${f+1}`,get liClass(){return`mb-2 footnote text-sm list-none basis-full w-full flex justify-start content-start ${$(D)??""}`},children:(K,X)=>{var T=U(),g=b(T);C(g,"data-target",`footnote-${f+1}-ref`),g.__touchend=r,g.__keydown=r,g.__click=r,g.textContent=f+1;var P=B(g);R(()=>V(P,` ${$(x).text??""}`)),p(K,T)},$$slots:{default:!0}})}),p(e,v)},$$slots:{default:!0}}),p(s,c)};S(_,s=>{o().length>0&&s(k)})}p(n,m),I()}A(["touchend","keydown","click"]);export{it as B,nt as a,at as c};
