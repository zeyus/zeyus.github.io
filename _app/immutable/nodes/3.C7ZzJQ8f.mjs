import{d as ze,a as m,f as J,s as K,b as pe,j as Ye,t as q}from"../chunks/B8MPXtIq.mjs";import{o as Ve,b as Zt}from"../chunks/BkMO8MJk.mjs";import{h as St,b as Ot,bd as It,A as Tt,be as Lt,M as Se,aH as Wt,q as Ut,x as $t,bf as qt,ah as Dt,as as Ht,p as fe,f as re,a as me,g as t,c as k,r as w,ag as ne,v as Je,s as c,t as ie,bg as vt,ba as De,ae as He,bb as Pt,m as be,w as Fe,d as x,aq as Gt,bh as Nt,aF as G,ak as ae,u as Pe,n as Z}from"../chunks/DEPfPJ3n.mjs";import{B as Vt,p as S,i as ue,r as Ee,a as kt,b as zt}from"../chunks/BF8Cdouy.mjs";import{e as Jt,i as Qt}from"../chunks/DzpxA3v9.mjs";import{a as Me,e as ht,E as Kt,c as Xt,g as At,F as ea,s as de,G as Be,H as gt,b as ta,I as aa}from"../chunks/kREDaZmN.mjs";import{B as We}from"../chunks/Co_ojIYE.mjs";import{A as le}from"../chunks/DTLupmxa.mjs";import{L as ra,a as ke}from"../chunks/C4Fd198X.mjs";import{P as xt}from"../chunks/DxaSXJDR.mjs";import{B as ia,a as sa,c as oa}from"../chunks/DxOLKO8W.mjs";import"../chunks/7STPOpc8.mjs";import{s as Ge}from"../chunks/Dc2-DHpS.mjs";import{i as Rt}from"../chunks/D7rpPUoi.mjs";import{b as bt}from"../chunks/WRpJwhuw.mjs";import{c as Ct}from"../chunks/DbjUN76s.mjs";const na=Symbol("NaN");function la(r,e,s){St&&Ot();var v=new Vt(r),n=!It();Tt(()=>{var a=e();a!==a&&(a=na),n&&a!==null&&typeof a=="object"&&(a={}),v.ensure(a,s)})}function ca(r,e,s=e){var v=new WeakSet;Lt(r,"input",async n=>{var a=n?r.defaultValue:r.value;if(a=Ue(r)?$e(a):a,s(a),Se!==null&&v.add(Se),await Wt(),a!==(a=e())){var z=r.selectionStart,P=r.selectionEnd,A=r.value.length;if(r.value=a??"",P!==null){var g=r.value.length;z===P&&P===A&&g>A?(r.selectionStart=g,r.selectionEnd=g):(r.selectionStart=z,r.selectionEnd=Math.min(P,g))}}}),(St&&r.defaultValue!==r.value||Ut(e)==null&&r.value)&&(s(Ue(r)?$e(r.value):r.value),Se!==null&&v.add(Se)),$t(()=>{var n=e();if(r===document.activeElement){var a=qt??Se;if(v.has(a))return}Ue(r)&&n===$e(r.value)||r.type==="date"&&!n&&!r.value||n!==r.value&&(r.value=n??"")})}function Ue(r){var e=r.type;return e==="number"||e==="range"}function $e(r){return r===""?null:+r}function da(r,e,s){var v=Ht(r,e);v&&v.set&&(r[e]=s,Dt(()=>{r[e]=null}))}var ua=J("<label><!></label>");function ce(r,e){fe(e,!0);let s=S(e,"color",3,"gray"),v=S(e,"show",3,!0),n=Ee(e,["$$slots","$$events","$$legacy","children","color","show","class"]);const a=ne(()=>At("label"));let z=ne(()=>Kt({color:s(),class:Xt(t(a),e.class)}));var P=ze(),A=re(P);{var g=p=>{var y=ua();Me(y,()=>({...n,class:t(z)}));var E=k(y);ht(E,()=>e.children),w(y),m(p,y)},C=p=>{var y=ze(),E=re(y);ht(E,()=>e.children),m(p,y)};ue(A,p=>{v()?p(g):p(C,!1)})}m(r,P),me()}var fa=J("<input/>");function xe(r,e){fe(e,!0);let s=S(e,"value",15),v=S(e,"appearance",3,"none"),n=S(e,"color",3,"blue"),a=S(e,"size",3,"md"),z=Ee(e,["$$slots","$$events","$$legacy","value","appearance","color","size","inputClass","class"]);const P=ne(()=>At("range")),A=ne(()=>ea({appearance:v(),color:n(),size:a(),class:Xt(t(P),e.inputClass,e.class)}));var g=fa();Me(g,()=>({type:"range",...z,class:t(A)}),void 0,void 0,void 0,void 0,!0),ca(g,s),m(r,g),me()}var ma=pe("<title> </title>"),va=pe("<desc> </desc>"),ha=pe('<svg><!><!><path stroke="currentColor" d="M21 12c0 1.2-4.03 6-9 6s-9-4.8-9-6c0-1.2 4.03-6 9-6s9 4.8 9 6Z"></path><path stroke="currentColor" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"></path></svg>');function pt(r,e){fe(e,!0);const s=Je("iconCtx")??{},v={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let n=S(e,"size",19,()=>s.size||"md"),a=S(e,"color",19,()=>s.color||"currentColor"),z=S(e,"strokeWidth",19,()=>s.strokeWidth||2),P=Ee(e,["$$slots","$$events","$$legacy","size","color","title","strokeWidth","desc","class","ariaLabel"]),A=`${e.title?.id||""} ${e.desc?.id||""}`.trim();const g=!!(e.title?.id||e.desc?.id),C=!!e.ariaLabel||g;var p=ha();Me(p,_=>({xmlns:"http://www.w3.org/2000/svg",fill:"none",color:a(),...P,class:_,viewBox:"0 0 24 24","aria-label":e.ariaLabel,"aria-describedby":g?A:void 0,"aria-hidden":!C}),[()=>Ct("shrink-0",v[n()],e.class)]);var y=k(p);{var E=_=>{var j=ma(),N=k(j,!0);w(j),ie(()=>{de(j,"id",e.title.id),K(N,e.title.title)}),m(_,j)};ue(y,_=>{e.title?.id&&e.title.title&&_(E)})}var T=c(y);{var W=_=>{var j=va(),N=k(j,!0);w(j),ie(()=>{de(j,"id",e.desc.id),K(N,e.desc.desc)}),m(_,j)};ue(T,_=>{e.desc?.id&&e.desc.desc&&_(W)})}var O=c(T),M=c(O);w(p),ie(()=>{de(O,"stroke-width",z()),de(M,"stroke-width",z())}),m(r,p),me()}var ga=pe("<title> </title>"),xa=pe("<desc> </desc>"),ba=pe('<svg><!><!><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="M3 9h13a5 5 0 0 1 0 10H7M3 9l4-4M3 9l4 4"></path></svg>');function pa(r,e){fe(e,!0);const s=Je("iconCtx")??{},v={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let n=S(e,"size",19,()=>s.size||"md"),a=S(e,"color",19,()=>s.color||"currentColor"),z=S(e,"strokeWidth",19,()=>s.strokeWidth||2),P=Ee(e,["$$slots","$$events","$$legacy","size","color","title","strokeWidth","desc","class","ariaLabel"]),A=`${e.title?.id||""} ${e.desc?.id||""}`.trim();const g=!!(e.title?.id||e.desc?.id),C=!!e.ariaLabel||g;var p=ba();Me(p,M=>({xmlns:"http://www.w3.org/2000/svg",fill:"none",color:a(),...P,class:M,viewBox:"0 0 24 24","aria-label":e.ariaLabel,"aria-describedby":g?A:void 0,"aria-hidden":!C}),[()=>Ct("shrink-0",v[n()],e.class)]);var y=k(p);{var E=M=>{var _=ga(),j=k(_,!0);w(_),ie(()=>{de(_,"id",e.title.id),K(j,e.title.title)}),m(M,_)};ue(y,M=>{e.title?.id&&e.title.title&&M(E)})}var T=c(y);{var W=M=>{var _=xa(),j=k(_,!0);w(_),ie(()=>{de(_,"id",e.desc.id),K(j,e.desc.desc)}),m(M,_)};ue(T,M=>{e.desc?.id&&e.desc.desc&&M(W)})}var O=c(T);w(p),ie(()=>de(O,"stroke-width",z())),m(r,p),me()}const ya=()=>({props:{title:"home",excerpt:"Hi, I'm zeyus, the epitome of a generalist. I left industry to study cognitive science and now I'm working on my PhD so I can specialize in generalism."}}),er=Object.freeze(Object.defineProperty({__proto__:null,load:ya},Symbol.toStringTag,{value:"Module"})),_a=typeof window<"u"?vt(window.devicePixelRatio,r=>{let e=()=>{};function s(){e();const v=`(resolution: ${window.devicePixelRatio}dppx)`,n=matchMedia(v);n.addEventListener("change",s),e=()=>n.removeEventListener("change",s),r(window.devicePixelRatio)}s()}):vt(1);function Ne(r,e,s){return Math.min(Math.max(e,r),s)}function yt(r,e){let s=0;const v={...e,threshold:s};let n=new IntersectionObserver(a,v);n.observe(r);function a(z){const P=z[0];if(P.intersectionRatio===s)return;r.dispatchEvent(new CustomEvent("intersectionchanged",{detail:P})),s=P.intersectionRatio,n.disconnect();const A=1e-5,g=[s-A,s,s+A].map(p=>Ne(0,p,1)),C={...e,threshold:g};n=new IntersectionObserver(a,C),n.observe(r)}return{destroy(){n.disconnect()}}}async function wa(){return new Promise(r=>{const e=new ResizeObserver(s=>{r(s.every(v=>"devicePixelContentBoxSize"in v)),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(()=>!1)}const Sa=wa();let qe=!1;function _t(r){let e=new ResizeObserver(s);function s(v){const n=v[0];let a;qe?a={width:n.devicePixelContentBoxSize[0].inlineSize,height:n.devicePixelContentBoxSize[0].blockSize}:n.contentBoxSize?a={width:n.contentBoxSize[0].inlineSize*window.devicePixelRatio,height:n.contentBoxSize[0].blockSize*window.devicePixelRatio}:a={width:n.contentRect.width*window.devicePixelRatio,height:n.contentRect.height*window.devicePixelRatio},r.dispatchEvent(new CustomEvent("devicepixelresize",{detail:a}))}return Sa.then(v=>{qe=v,e.observe(r,{box:qe?"device-pixel-content-box":"content-box"})}),{destroy(){e.disconnect()}}}var Pa=J('<div class="svelte-1ejsrra"><canvas><!></canvas></div>');function ka(r,e){fe(e,!1);const s=()=>kt(_a,"$pixelScale",v),[v,n]=zt();let a=S(e,"width",8),z=S(e,"height",8),P=S(e,"canRender",8),A=S(e,"maxSize",8),g=S(e,"render",8),C=S(e,"rerenderEveryFrame",12),p=S(e,"forceAnimation",8);function y(){return typeof window>"u"?!1:window.matchMedia("(prefers-reduced-motion: reduce)").matches}!p()&&y()&&C(!1);let E;Ve(()=>{E=performance.now()/1e3});let T=S(e,"offsetFromBottom",8,!1),W=S(e,"updateCanvasSize",8,()=>{}),O=S(e,"updateContainerSize",8),M=S(e,"updateOffset",8),_=S(e,"updateScale",8),j=S(e,"updateTime",8),N=be(),f=S(e,"canvasElement",12),i=null;const b=[];function l(){P()&&i===null&&(i=requestAnimationFrame(()=>{b.forEach(o=>o()),b.length=0,C()&&j()(performance.now()/1e3-E),g()(),i=null,C()&&l()}))}function h(){i!==null&&(cancelAnimationFrame(i),i=null)}function D(o){b.push(()=>{const d=o.detail.width,u=o.detail.height;f(f().width=d,!0),f(f().height=u,!0),W()(d,u)}),l()}function ve(o){const d=o.detail.width,u=o.detail.height;O()(d,u)}let ee=be(0),Q=be(0);function se(){const o=t(N).getBoundingClientRect(),d=window.innerWidth,u=f().offsetWidth,R=t(N).offsetWidth,L=-o.left;x(ee,Ne(0,L-(u-d)/2,R-u)*s());const F=window.innerHeight,$=f().offsetHeight,X=t(N).offsetHeight,I=T()?o.top+X-F:-o.top;x(Q,Ne(0,I-($-F)/2,X-$)*s())}Zt(h),De(()=>(t(ee),t(Q),He(M())),()=>{t(ee)!==void 0&&t(Q)!==void 0&&M()(t(ee),t(Q))}),De(()=>(He(_()),s()),()=>{_()(s())}),Pt();var Xe={requestRender:l};Rt();var ye=ze(),Ae=re(ye);{var _e=o=>{var d=Pa();let u;var R=k(d);let L,F;var $=k(R);Ge($,e,"default",{},null),w(R),bt(R,X=>f(X),()=>f()),Be(R,X=>_t?.(X)),Fe(()=>Ye("devicepixelresize",R,D)),Be(R,(X,I)=>yt?.(X,I),()=>({rootMargin:"100px"})),Fe(()=>Ye("intersectionchanged",R,se)),w(d),bt(d,X=>x(N,X),()=>t(N)),Be(d,X=>_t?.(X)),Fe(()=>Ye("devicepixelresize",d,ve)),Be(d,X=>yt?.(X)),Fe(()=>Ye("intersectionchanged",d,se)),ie(()=>{u=gt(d,"",u,{"--width":a(),"--height":z()}),L=ta(R,1,"svelte-1ejsrra",null,L,{"offset-from-bottom":T()}),F=gt(R,"",F,{"--max-size":`${A()/s()}px`,"--offset-x":`${t(ee)/s()}px`,"--offset-y":`${t(Q)/s()}px`})}),m(o,d)},he=o=>{var d=ze(),u=re(d);Ge(u,e,"default",{},null),m(o,d)};ue(Ae,o=>{P()?o(_e):o(he,!1)})}m(r,ye),da(e,"requestRender",l);var te=me(Xe);return n(),te}let wt=typeof navigator<"u"&&typeof navigator.gpu<"u";za();async function za(){try{if(!wt)return null;const r=await navigator.gpu.requestAdapter();if(!r)throw new Error("Failed to get WebGPU adapter.");const e=await r.requestDevice(),s=new Float32Array([-1,-1,1,-1,1,1,-1,-1,1,1,-1,1]),v=e.createBuffer({label:"ScreenQuad Vertex Buffer",size:s.byteLength,usage:GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_DST});return e.queue.writeBuffer(v,0,s),{device:e,vertexBuffer:v,vertexBufferLayout:{arrayStride:8,attributes:[{format:"float32x2",offset:0,shaderLocation:0}]}}}catch(r){return console.warn(r),wt=!1,null}}function Xa(r,e){fe(e,!1);let s=S(e,"width",8,void 0),v=S(e,"height",8,void 0),n=S(e,"code",8),a=S(e,"parameters",24,()=>[]);const z=a().some(f=>f.value==="time");let P=S(e,"forceAnimation",8,!1);const A=4096;let g=be(),C=be(),p=be(typeof WebGL2RenderingContext<"u");const y=new Promise(f=>Ve(async()=>{try{if(!t(p)||t(C)===null)return;const i=t(C).getContext("webgl2");if(i===null)throw new Error("Failed to get WebGL2 context.");const b=i.createProgram();if(b===null)throw new Error("Failed to create WebGL shader program.");const l=(_e,he)=>{const te=i.createShader(he);if(te===null)throw new Error("Failed to create texture.");if(i.shaderSource(te,_e),i.compileShader(te),!i.getShaderParameter(te,i.COMPILE_STATUS))throw new Error(`An error occurred compiling the shaders: ${i.getShaderInfoLog(te)}`);i.attachShader(b,te)};l(`#version 300 es
                    in vec4 pos;
                    void main() {
                        gl_Position = pos;
                    }
                `,i.VERTEX_SHADER),l(await n(),i.FRAGMENT_SHADER),i.linkProgram(b),i.useProgram(b);const D=i.getAttribLocation(b,"pos"),ve=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,ve);const ee=[1,1,-1,1,1,-1,-1,-1];i.bufferData(i.ARRAY_BUFFER,new Float32Array(ee),i.STATIC_DRAW);const Q=2,se=i.FLOAT;i.vertexAttribPointer(D,Q,se,!1,0,0),i.enableVertexAttribArray(D),f({gl:i,shaderProgram:b})}catch(i){console.warn(i),x(p,!1)}}));async function E(){const{gl:f}=await y;f.drawArrays(f.TRIANGLE_STRIP,0,4)}async function T(f,i){const{gl:b}=await y;b.viewport(0,0,f,i)}async function W(f,i){const{gl:b,shaderProgram:l}=await y,h=a().find(D=>D.value==="resolution");if(h!==void 0){const D=b.getUniformLocation(l,h.name);b.uniform2fv(D,[f,i]),t(g)()}}async function O(f,i){const{gl:b,shaderProgram:l}=await y,h=a().find(D=>D.value==="offset");if(h!==void 0){const D=b.getUniformLocation(l,h.name);b.uniform2fv(D,[f,i]),t(g)()}}async function M(f){const{gl:i,shaderProgram:b}=await y,l=a().find(h=>h.value==="scale");if(l!==void 0){const h=i.getUniformLocation(b,l.name);i.uniform1f(h,f),t(g)()}}async function _(f){const{gl:i,shaderProgram:b}=await y,l=a().find(h=>h.value==="time");if(l!==void 0){const h=i.getUniformLocation(b,l.name);i.uniform1f(h,f)}}function j(f){if(!(typeof f.value=="string"))return!1;switch(f.value){case"resolution":case"offset":case"scale":case"time":return!0;default:throw new Error(`Unknown built-in value: ${f.value}`)}}async function N(f){const{gl:i,shaderProgram:b}=await y;for(const l of f){if(l.value===void 0)throw new Error("One or more parameters had an undefined value field.");if(!j(l)){const h=i.getUniformLocation(b,l.name);switch(l.type){case"float":i.uniform1f(h,l.value);break;case"vec2":i.uniform2fv(h,l.value);break;case"vec3":i.uniform3fv(h,l.value);break;case"vec4":i.uniform4fv(h,l.value);break;case"int":i.uniform1i(h,l.value);break;case"ivec2":i.uniform2iv(h,l.value);break;case"ivec3":i.uniform3iv(h,l.value);break;case"ivec4":i.uniform4iv(h,l.value);break;case"uint":i.uniform1ui(h,l.value);break;case"uvec2":i.uniform2uiv(h,l.value);break;case"uvec3":i.uniform3uiv(h,l.value);break;case"uvec4":i.uniform4uiv(h,l.value);break;case"mat2":i.uniformMatrix2fv(h,!1,l.value);break;case"mat3":i.uniformMatrix3fv(h,!1,l.value);break;case"mat4":i.uniformMatrix4fv(h,!1,l.value);break;default:throw new Error(`Unknown parameter type: ${l.type}`)}}}t(g)()}De(()=>He(a()),()=>{N(a())}),Pt(),Rt(),ka(r,{get width(){return s()},get height(){return v()},get canRender(){return t(p)},maxSize:A,offsetFromBottom:!0,get rerenderEveryFrame(){return z},get forceAnimation(){return P()},render:E,updateCanvasSize:T,updateContainerSize:W,updateOffset:O,updateScale:M,updateTime:_,get canvasElement(){return t(C)},set canvasElement(f){x(C,f)},get requestRender(){return t(g)},set requestRender(f){x(g,f)},children:(f,i)=>{var b=ze(),l=re(b);Ge(l,e,"default",{},null),m(f,b)},$$slots:{default:!0},$$legacy:!0}),me()}const Aa=(r,e)=>{const s=Nt(e),v=localStorage.getItem(r);if(v!=null)try{s.set(JSON.parse(v))}catch(a){console.error("Failed to parse stored value:",a)}let n=JSON.stringify(Gt(s));return s.subscribe(a=>{if(a==null)localStorage.removeItem(r),n="";else{const z=JSON.stringify(a);z!==n&&(localStorage.setItem(r,z),n=z)}}),window.addEventListener("storage",a=>{if(a.key!==r)return;const z=a.newValue;if(z!=null&&z!==n)try{const P=JSON.parse(z);n=z,s.set(P)}catch(P){console.error("Failed to parse storage event:",P)}}),s};var Ra=J("Hi, I'm zeyus, the epitome of a generalist. I left industry to study <!> and now I'm working on my PhD so I can specialize in generalism.",1),Ca=J("You can follow me around the internet via my <!>",1),Ya=J("<!> <!> <!> <!> <!>",1),Fa=J('<div class="fallback dark:text-gray-500">Enable WebGL to see an awesome shader.</div>'),Ba=J("<option> </option>"),Ea=J('<div class="flex md:m-0 md:p-0 mb-4 justify-center flex-col md:flex-row"><div class="flex justify-self-center md:justify-self-end mb-4 md:mb-4 justify-center self-center"><!></div> <div class="flex md:justify-self-start mb-4 md:mb-4 justify-center self-center flex-col w-64 md:w-32 ml-2"><div class="flex justify-between"><!> <span class="text-sm text-gray-500 dark:text-gray-400 mb-0 pb-0"> </span></div> <!> <div class="flex justify-between"><!> <span class="text-sm text-gray-500 dark:text-gray-400 mb-0 pb-0"> </span></div> <!> <div class="flex justify-between"><!> <span class="text-sm text-gray-500 dark:text-gray-400 mb-0 pb-0"> </span></div> <!> <div class="flex justify-between"><!> <span class="text-sm text-gray-500 dark:text-gray-400 mb-0 pb-0"> </span></div> <!> <div class="flex justify-between"><!> <span class="text-sm text-gray-500 dark:text-gray-400 mb-0 pb-0"> </span></div> <!> <div class="flex justify-between"><!> <span class="text-sm text-gray-500 dark:text-gray-400 mb-0 pb-0"> </span></div> <!> <div class="flex justify-between"><!> <div class="flex flex-row items-center m-0"><!> <select class="ms-2 self-center w-16 py-0.5 md:ms-0 md:mt-2 px-0.5 h-6 text-xs rounded border bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-200 focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-600" aria-label="Select shader frame rate" title="Select shader frame rate"></select></div> <!></div></div></div>'),Ma=J('<div class="flex md:justify-self-center mb-4 md:mb-4 justify-center md:self-center"><!></div>'),ja=J("If you're interested in some stuff I write about, check out <!>, if you'd like to see some of the open source projects I've worked on, take a look at <!>. If you just want to connect to your Arduino or other serial device directly from your browser, check out <!><!>.",1),Za=J('<!> <div class="flex flex-col md:flex-row md:items-start md:w-full md:justify-around"><div class="flex mb-4 md:justify-start md:m-0 md:p-0 content-start md:self-center"><!></div> <!></div> <!> <!>',1);function tr(r,e){fe(e,!0);const s=()=>kt(P,"$shaderSettings",v),[v,n]=zt(),a={x:{min:-100,max:100,default:0},y:{min:-100,max:100,default:-50},z:{min:-200,max:-.1,default:-25},rotateXY:{min:-5,max:5,default:.03},rotateXZ:{min:-5,max:5,default:-.03},timeMultiplier:{min:1e-4,max:5,default:.2},frameRate:{options:[15,30,60,120,"unlimited"],default:30}},z={showShader:!0,shaderX:a.x.default,shaderY:a.y.default,shaderZ:a.z.default,rotateXY:a.rotateXY.default,rotateXZ:a.rotateXZ.default,timeMultiplier:a.timeMultiplier.default,framerate:a.frameRate.default,timeOffset:0},P=Aa("shader-settings",z);let A=G(ae(s().showShader)),g=G(ae(s().shaderX)),C=G(ae(s().shaderY)),p=G(ae(s().shaderZ)),y=G(ae(s().rotateXY)),E=G(ae(s().rotateXZ)),T=G(ae(s().timeMultiplier)),W=G(ae(s().framerate)),O=G(ae(s().timeOffset??0));Pe(()=>{const o={showShader:t(A),shaderX:t(g),shaderY:t(C),shaderZ:t(p),rotateXY:t(y),rotateXZ:t(E),timeMultiplier:t(T),framerate:t(W)};P.set({...o,timeOffset:t(O)})}),Pe(()=>{if(!t(A))return;const o=setInterval(()=>{P.set({showShader:t(A),shaderX:t(g),shaderY:t(C),shaderZ:t(p),rotateXY:t(y),rotateXZ:t(E),timeMultiplier:t(T),framerate:t(W),timeOffset:t(O)})},1e3);return()=>clearInterval(o)});let M=G(0),_=G(0),j=G(0);Pe(()=>{t(_)===0&&t(O)>0&&x(_,t(O),!0)}),Pe(()=>{if(!t(A)||t(W)==="unlimited")return;let o,d=0,u=0;const R=L=>{const F=L/1e3;d===0&&(d=F,u=F,x(j,F));const $=1/t(W);F-u>=$&&(x(M,F-d),x(O,t(_)+t(M)),u=F),o=requestAnimationFrame(R)};return o=requestAnimationFrame(R),()=>{o&&cancelAnimationFrame(o),x(_,t(O),!0),x(M,0)}}),Pe(()=>{if(!t(A)||t(W)!=="unlimited")return;x(j,performance.now()/1e3);let o;const d=()=>{const u=performance.now()/1e3;x(O,t(_)+(u-t(j))),o=requestAnimationFrame(d)};return o=requestAnimationFrame(d),()=>{cancelAnimationFrame(o),x(_,t(O),!0)}});const N=ne(()=>t(W)==="unlimited"?[{name:"iResolution",value:"resolution"},{name:"u_offset",value:"offset"},{name:"iTime",value:"time"},{name:"shaderX",value:t(g),type:"float"},{name:"shaderY",value:t(C),type:"float"},{name:"shaderZ",value:t(p),type:"float"},{name:"rotateXY",value:t(y),type:"float"},{name:"rotateXZ",value:t(E),type:"float"},{name:"timeMultiplier",value:t(T),type:"float"},{name:"timeOffset",value:t(O),type:"float"}]:[{name:"iResolution",value:"resolution"},{name:"u_offset",value:"offset"},{name:"iTime",value:t(M),type:"float"},{name:"shaderX",value:t(g),type:"float"},{name:"shaderY",value:t(C),type:"float"},{name:"shaderZ",value:t(p),type:"float"},{name:"rotateXY",value:t(y),type:"float"},{name:"rotateXZ",value:t(E),type:"float"},{name:"timeMultiplier",value:t(T),type:"float"},{name:"timeOffset",value:t(O),type:"float"}]),f=ne(()=>t(W)==="unlimited");let i=ne(()=>`#version 300 es
        // License: CC BY-NC-SA 3.0
        // https://creativecommons.org/licenses/by-nc-sa/3.0/
        // Author: bradjamesgrant (https://www.shadertoy.com/user/bradjamesgrant)
        // fractal pyramid: https://www.shadertoy.com/view/tsXBzS
        // Modified by zeyus.
        precision highp float;
        out vec4 fragColor;
        uniform vec2 iResolution;
        uniform float iTime;
        uniform vec2 u_offset;

        uniform float shaderX;
        uniform float shaderY;
        uniform float shaderZ;
        uniform float rotateXY;
        uniform float rotateXZ;
        uniform float timeMultiplier;
        uniform float timeOffset;


        vec3 palette(float d){
            return mix(vec3(0.6,1.0,0.8),vec3(1.,0.0,1.),d);
        }

        vec2 rotate(vec2 p,float a){
            float c = cos(a*0.1);
            float s = sin(a*0.1);
            return p*mat2(c,s,-s,c);
        }

        float map(vec3 p){
            for( int i = 0; i<40; ++i){
                float t = (iTime + timeOffset)*timeMultiplier;
                p.xz =rotate(p.xz,t);
                p.xy =rotate(p.xy,t*2.89);
                p.xz = abs(p.xz);
                // p.xz-=.5;
                p.xz -=.3;
            }
            return dot(sign(p),p)/6.;
        }

        vec4 rm (vec3 ro, vec3 rd){
            float t = 0.;
            vec3 col = vec3(0.);
            float d;
            for(float i =0.; i<64.; i++){
                vec3 p = ro + rd*t;
                d = map(p)*.5;
                if(d<0.05){
                    break;
                }
                if(d>100.){
                    break;
                }
                col+=palette(length(p)*.15)/(550.*(d));
                t+=d;
            }
            return vec4(col,1./(d*100.));
        }
        void main()
        {
            vec2 uv = (gl_FragCoord.xy+u_offset-(iResolution.xy/2.))/iResolution.x;
            vec3 ro = vec3(shaderX,shaderY,shaderZ);
            ro.xy = rotate(ro.xy,(iTime + timeOffset)*rotateXY);
            ro.xz = rotate(ro.xz,(iTime + timeOffset)*rotateXZ);
            vec3 cf = normalize(-ro);
            vec3 cs = normalize(cross(cf,vec3(0.,1.,0.)));
            vec3 cu = normalize(cross(cf,cs));
            
            vec3 uuv = ro+cf*4. + uv.x*cs + uv.y*cu;
            
            vec3 rd = normalize(uuv-ro);
            
            vec4 col = rm(ro,rd);
            
            
            fragColor = col;
        }
    `);function b(o){const d=o.target,u=parseFloat(d.value);switch(d.name){case"shaderX":x(g,u,!0);break;case"shaderY":x(C,u,!0);break;case"shaderZ":x(p,u,!0);break;case"rotateXY":x(y,u,!0);break;case"rotateXZ":x(E,u,!0);break;case"timeMultiplier":x(T,u,!0);break}}Je("metadata").setMetadata({title:"home",description:"The official website of zeyus, a cognitive science researcher, software engineer, hacker, musician, and generalist. Check out my projects, art, and other work."});let h=G(ae([])),D=G(!0);Ve(()=>{x(D,!1)});var ve=Za(),ee=re(ve);xt(ee,{class:"dark:text-gray-200 mb-2 mt-4",children:(o,d)=>{Z();var u=Ra(),R=c(re(u));le(R,{href:"https://en.wikipedia.org/wiki/Cognitive_science",children:(L,F)=>{Z();var $=q("cognitive science");m(L,$)},$$slots:{default:!0}}),Z(),m(o,u)},$$slots:{default:!0}});var Q=c(ee,2),se=k(Q),Xe=k(se);ra(Xe,{class:"home-list list-['>'] dark:text-gray-200 ml-3 mb-4 md:m-0 md:p-0 flex flex-col",position:"inside",children:(o,d)=>{var u=Ya(),R=re(u);ke(R,{class:"ps-2",children:(I,V)=>{Z();var H=q("Cognitive Scientist");m(I,H)},$$slots:{default:!0}});var L=c(R,2);ke(L,{class:"ps-2",children:(I,V)=>{Z();var H=q("PhD student");m(I,H)},$$slots:{default:!0}});var F=c(L,2);ke(F,{class:"ps-2",children:(I,V)=>{le(I,{href:"https://github.com/zeyus",children:(H,ge)=>{Z();var oe=q("Open-source contributor and developer");m(H,oe)},$$slots:{default:!0}})},$$slots:{default:!0}});var $=c(F,2);ke($,{class:"ps-2",children:(I,V)=>{le(I,{href:"https://soundcloud.com/zeyus",children:(H,ge)=>{Z();var oe=q("Musician");m(H,oe)},$$slots:{default:!0}})},$$slots:{default:!0}});var X=c($,2);ke(X,{class:"ps-2",children:(I,V)=>{Z();var H=Ca(),ge=c(re(H));le(ge,{href:"https://me.zys.im/",children:(oe,Qe)=>{Z();var Re=q("link list");m(oe,Re)},$$slots:{default:!0}}),m(I,H)},$$slots:{default:!0}}),m(o,u)},$$slots:{default:!0}}),w(se);var ye=c(se,2);{var Ae=o=>{var d=Ea(),u=k(d),R=k(u);la(R,()=>t(f),Y=>{Xa(Y,{width:"300px",height:"256px",code:t(i),forceAnimation:!0,get parameters(){return t(N)},children:(U,B)=>{var we=Fa();m(U,we)},$$slots:{default:!0}})}),w(u);var L=c(u,2),F=k(L),$=k(F);ce($,{for:"shaderX",title:"Adjust the position of the camera on the X axis",class:"mb-0 pb-0",children:(Y,U)=>{Z();var B=q("Cam X:");m(Y,B)},$$slots:{default:!0}});var X=c($,2),I=k(X,!0);w(X),w(F);var V=c(F,2);xe(V,{id:"shaderX",title:"Adjust the position of the camera on the X axis",class:"mt-0 pt-0",get min(){return a.x.min},get max(){return a.x.max},onchange:b,step:.1,get value(){return t(g)},name:"shaderX","aria-labelledby":"shaderX"});var H=c(V,2),ge=k(H);ce(ge,{for:"shaderY",title:"Adjust the position of the camera on the Y axis",class:"mb-0 pb-0",children:(Y,U)=>{Z();var B=q("Cam Y:");m(Y,B)},$$slots:{default:!0}});var oe=c(ge,2),Qe=k(oe,!0);w(oe),w(H);var Re=c(H,2);xe(Re,{id:"shaderY",title:"Adjust the position of the camera on the Y axis",class:"mt-0 pt-0",get min(){return a.y.min},get max(){return a.y.max},onchange:b,step:.1,get value(){return t(C)},name:"shaderY","aria-labelledby":"shaderY"});var je=c(Re,2),Ke=k(je);ce(Ke,{for:"shaderZ",title:"Adjust the camera zoom level",class:"mb-0 pb-0",children:(Y,U)=>{Z();var B=q("Zoom:");m(Y,B)},$$slots:{default:!0}});var et=c(Ke,2),Yt=k(et,!0);w(et),w(je);var tt=c(je,2);xe(tt,{id:"shaderZ",title:"Adjust the camera zoom level",class:"mt-0 pt-0",get min(){return a.z.min},get max(){return a.z.max},onchange:b,step:.01,get value(){return t(p)},name:"shaderZ","aria-labelledby":"shaderZ"});var Ze=c(tt,2),at=k(Ze);ce(at,{for:"rotateXY",title:"Adjust the spin speed around the XY axis",class:"mb-0 pb-0",children:(Y,U)=>{Z();var B=q("Spin XY:");m(Y,B)},$$slots:{default:!0}});var rt=c(at,2),Ft=k(rt,!0);w(rt),w(Ze);var it=c(Ze,2);xe(it,{id:"rotateXY",title:"Adjust the spin speed around the XY axis",class:"mt-0 pt-0",get min(){return a.rotateXY.min},get max(){return a.rotateXY.max},onchange:b,step:.01,get value(){return t(y)},name:"rotateXY","aria-labelledby":"rotateXY"});var Oe=c(it,2),st=k(Oe);ce(st,{for:"rotateXZ",title:"Adjust the spin speed around the XZ axis",class:"mb-0 pb-0",children:(Y,U)=>{Z();var B=q("Spin XZ:");m(Y,B)},$$slots:{default:!0}});var ot=c(st,2),Bt=k(ot,!0);w(ot),w(Oe);var nt=c(Oe,2);xe(nt,{id:"rotateXZ",title:"Adjust the spin speed around the XZ axis",class:"mt-0 pt-0",get min(){return a.rotateXZ.min},get max(){return a.rotateXZ.max},onchange:b,step:.01,get value(){return t(E)},name:"rotateXZ","aria-labelledby":"rotateXZ"});var Ie=c(nt,2),lt=k(Ie);ce(lt,{for:"timeMultiplier",title:"Adjust the speed of time progression in the shader",class:"mb-0 pb-0",children:(Y,U)=>{Z();var B=q("Mult:");m(Y,B)},$$slots:{default:!0}});var ct=c(lt,2),Et=k(ct,!0);w(ct),w(Ie);var dt=c(Ie,2);xe(dt,{id:"timeMultiplier",title:"Adjust the speed of time progression in the shader",class:"mt-0 pt-0",get min(){return a.timeMultiplier.min},get max(){return a.timeMultiplier.max},onchange:b,step:.001,get value(){return t(T)},name:"timeMultiplier","aria-labelledby":"timeMultiplier"});var ut=c(dt,2),ft=k(ut);We(ft,{class:"mt-2 w-6 h-6 p-0",color:"primary",outline:!0,size:"sm",onclick:()=>x(A,!1),"aria-label":"Hide shader",title:"Hide shader",children:(Y,U)=>{pt(Y,{class:"w-4 h-4 m-0 p-0"})},$$slots:{default:!0}});var Te=c(ft,2),mt=k(Te);ce(mt,{for:"framerate-select",class:"md:sr-only",children:(Y,U)=>{Z();var B=q("Framerate:");m(Y,B)},$$slots:{default:!0}});var Le=c(mt,2);Jt(Le,21,()=>a.frameRate.options,Qt,(Y,U)=>{var B=Ba(),we=k(B,!0);w(B);var Ce={};ie(()=>{K(we,t(U)==="unlimited"?"âˆž FPS":t(U)+" FPS"),Ce!==(Ce=t(U))&&(B.value=(B.__value=t(U))??"")}),m(Y,B)}),w(Le),w(Te);var Mt=c(Te,2);We(Mt,{class:"mt-2 w-6 h-6 p-0",color:"primary",outline:!0,size:"sm",onclick:()=>{x(g,a.x.default,!0),x(C,a.y.default,!0),x(p,a.z.default,!0),x(y,a.rotateXY.default,!0),x(E,a.rotateXZ.default,!0),x(T,a.timeMultiplier.default,!0),x(O,0),x(_,0)},"aria-label":"Reset shader parameters",title:"Reset shader parameters",children:(Y,U)=>{pa(Y,{class:"w-4 h-4 m-0 p-0"})},$$slots:{default:!0}}),w(ut),w(L),w(d),ie((Y,U,B,we,Ce,jt)=>{K(I,Y),K(Qe,U),K(Yt,B),K(Ft,we),K(Bt,Ce),K(Et,jt)},[()=>t(g).toFixed(2),()=>t(C).toFixed(2),()=>t(p).toFixed(2),()=>t(y).toFixed(2),()=>t(E).toFixed(2),()=>t(T).toFixed(3)]),aa(Le,()=>t(W),Y=>x(W,Y)),m(o,d)},_e=o=>{var d=Ma(),u=k(d);We(u,{color:"primary",outline:!0,size:"sm",onclick:()=>x(A,!0),title:"Show shader","aria-label":"Show shader",class:"m-0 p-0 w-6 h-6",children:(R,L)=>{pt(R,{class:"w-4 h-4 m-0 p-0"})},$$slots:{default:!0}}),w(d),m(o,d)};ue(ye,o=>{t(A)&&!t(D)?o(Ae):o(_e,!1)})}w(Q);var he=c(Q,2);xt(he,{class:"dark:text-gray-200 md:mt-4",children:(o,d)=>{Z();var u=ja(),R=c(re(u));le(R,{href:"/_vault/",children:(X,I)=>{Z();var V=q("the _vault");m(X,V)},$$slots:{default:!0}});var L=c(R,2);le(L,{href:"/projects/",children:(X,I)=>{Z();var V=q("the projects page");m(X,V)},$$slots:{default:!0}});var F=c(L,2);le(F,{href:"/terminal/",children:(X,I)=>{Z();var V=q("the terminal");m(X,V)},$$slots:{default:!0}});var $=c(F);{let X=ne(()=>oa("Requires a browser that supports the <a class='inline-flex items-center hover:underline text-primary-600 dark:text-primary-500 mx-1' href='https://developer.mozilla.org/en-US/docs/Web/API/Web_Serial_API#browser_compatibility'>WebSerial</a> or <a class='inline-flex items-center hover:underline text-primary-600 dark:text-primary-500 mx-1' href='https://developer.mozilla.org/en-US/docs/Web/API/USB#browser_compatibility'>USB</a> APIs"));sa($,{get item(){return t(X)},get items(){return t(h)},set items(I){x(h,I,!0)}})}Z(),m(o,u)},$$slots:{default:!0}});var te=c(he,2);ia(te,{get items(){return t(h)},set items(o){x(h,o,!0)}}),m(r,ve),me(),n()}export{tr as component,er as universal};
